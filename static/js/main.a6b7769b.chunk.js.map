{"version":3,"sources":["components/StartMenu.js","components/Error.js","utils/utils.js","components/ParametersForm.js","pickers/CustomDatePicker.js","components/FREDDataForm.js","components/UserDataForm.js","components/DataForm.js","components/RenderedPlot.js","components/Loading.js","utils/date.js","components/BasePage.js","App.js","reportWebVitals.js","index.js"],"names":["StartMenu","_Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","continue","e","preventDefault","props","nextStep","inherits","createClass","key","value","react_default","a","createElement","className","Button","variant","style","styles","button","onClick","Component","minHeight","minWidth","margin","Error","Alert","severity","onClose","close","tagName","confIntZip","cycle","ci","bound","map","x","i","pairToParam","paramName","currPair","toString","pairArrayToParamStr","arr","reduce","fetchWithTimeout","_callee","url","controller","timeoutID","f","regenerator_default","wrap","_context","prev","next","AbortController","setTimeout","abort","fetch","signal","sent","clearTimeout","abrupt","stop","createMenuItems","option","item","MenuItem","text","createHoverText","hoverText","forEach","fieldItem","ParametersForm","isDisabled","rollingWindow","values","demean","delta","isError","field","undefined","errors","isErrorDisplaying","errorsDisplayedCount","keys","filter","_this$props","getResults","getFREDResults","handlers","cancelLoad","dataInputType","handleChange","target","back","prevStep","preAnalysisTransformations","_this$props2","handleCheckboxChange","Fragment","Divider","fontSize","Grid","container","direction","justifyContent","alignItems","spacing","xs","FormControl","FormControlLabel","label","title","control","Checkbox","size","onChange","checked","takeLog","disabled","transform","sx","InputLabel","Select","dCode","optionField","pCode","bnFilterParameters","_this$props3","handleNumberFieldChange","handleIntegerNumberFieldChange","marginTop","width","display","deltaSelect","TextField","error","helperText","iterativeDynamicDemeaning","_this2","loading","components_Error","alertErrors","alertErrorType","CustomDatePicker","date","LocalizationProvider","dateAdapter","AdapterDateFns","DesktopDatePicker","inputFormat","minDate","maxDate","InputProps","newValue","console","log","updateDate","renderInput","params","assign","InputLabelProps","shrink","inputProps","objectSpread","placeholder","FREDDataForm","state","mnemonic","timeoutError","createFilteredFrequencies","items","frequencyFRED","availableFrequencies","includes","checkAvailability","paramStr","finalURL","URL","baseBackendURL","fredDataSlug","setState","asyncToGenerator","mark","setErrorMessage","deleteErrorMessage","responseSuccess","catch","then","response","status","json","result","parsedStartDate","split","Number","parsedEndDate","startDate","Date","endDate","mnemonicInput","marginBottom","FormGroup","row","JoinedTextField","color","onKeyDown","keyCode","endAdornment","react_loader_spinner_esm","height","JoinedButton","FormHelperText","rel","href","pickers_CustomDatePicker","startDateFRED","endDateFRED","dispCycleCI","withStyles","root","& fieldset","borderTopRightRadius","borderBottomRightRadius","borderRight","borderTopLeftRadius","borderBottomLeftRadius","backgroundColor","borderColor","UserDataForm","handleTimeSeriesChange","timeSeries","notNumberReg","RegExp","arrayFormReg","seriesFormReg","nonNumberTest","test","arrayFormTest","seriesFormTest","errorMessage","m","paddingRight","multiline","rows","join","unprocessedY","paddingTop","frequency","frequencyManual","DataForm","toggleDataInputType","valuesUserData","valuesFREDData","ToggleButtonGroup","exclusive","ToggleButton","UserDataForm_UserDataForm","FREDDataForm_FREDDataForm","headingFormControlLabel","RenderedPlot","fileName","plotPageValues","columns","rowLength","colLength","retArr","c","r","push","colsToRows","y","cycleCILB","cycleCIUB","react_plotly_default","layout","autosize","xaxis","automargin","yaxis","tickangle","window","screen","l","b","t","pad","data","type","mode","marker","name","showlegend","fill","fillcolor","line","hoverinfo","getPlot","deltaCalc","toFixed","react_csv","textDecoration","filename","getCSVData","Loading","DateAbstract","nextTimePeriod","getDateSeries","periods","currDate","assertThisInitialized","retDate","from","createDate","AnnualDate","QuarterlyDate","MonthlyDate","WeeklyDate","toFixedTwoDigits","d","truncatedDate","getFullYear","getMonth","getDate","oldDate","setDate","_this3","setMonth","_this4","_this5","setFullYear","BasePage","step","freeText","default","iterativeBackcasting","cycleCI","fieldErrorMessages","cancelLoading","input","defineProperty","message","fieldErrorMessagesTemp","isEmptyString","v","isNotANum","isNaN","isNotAnInt","isExceedsMinMax","min","max","handleErrorField","isCorrectEntry","validateField","isIncorrectEntry","total","currentValue","handleChangeValidation","validationArr","bnfParamArr","fetchResultWithErrorHandling","_ref","_x","getResultsForFREDData","_callee3","_context3","bnfFredDataSlug","_callee2","_context2","cycleRes","ciRes","deltaRes","getResultsForUserSpecifiedData","_callee5","_context5","replace","bnfUserSpecifiedDataSlug","_callee4","_context4","_","_this$state","_this$state2","dataUserFormPageValues","dataFREDFormPageValues","_this$state3","parametersFormPageValues","serverError","_this$state4","components_DataForm","components_ParametersForm","components_RenderedPlot","components_StartMenu","footer","borderTop","textAlign","padding","position","overflowX","left","bottom","zIndex","feature","App","components_BasePage","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.a6b7769b.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport {Button} from \"@mui/material\";\r\nimport '../styles/App.css';\r\n\r\nexport class StartMenu extends Component {\r\n    continue = e => {\r\n        e.preventDefault();\r\n        this.props.nextStep();\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"information\">\r\n                    <p>You will be guided through the steps to perform trend-cycle decomposition on either:</p>\r\n                        <ol>\r\n                            <li>A time series from the Federal Reserve Economic Database (FRED) using its mnemonic, or</li>\r\n                            <li>A time series of your choosing, to be pasted into a field</li>\r\n                        </ol>\r\n                    <p>\r\n                        Note that there is additional information provided when hovering over the options in the\r\n                        subsequent pages. The cycle is reported and can be downloaded as a CSV.\r\n                    </p>\r\n                </div>\r\n\r\n                <Button\r\n                    variant=\"contained\"\r\n                    style={styles.button}\r\n                    onClick={this.continue}\r\n                >Continue</Button>\r\n                <br/>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst styles = {\r\n    button: {\r\n        minHeight: \"45px\",\r\n        minWidth: \"100px\",\r\n        margin: \"30px 0 100px\",\r\n    }\r\n}\r\n\r\nexport default StartMenu","import {Alert} from \"@mui/material\";\r\nimport React, {Component} from \"react\";\r\n\r\nexport class Error extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div style={{margin: \"2px 20%\"}}>\r\n                <Alert variant=\"filled\" severity=\"error\"\r\n                       onClose={this.props.close}>\r\n                    {this.props.tagName}\r\n                </Alert>\r\n            </div>)\r\n    }\r\n}\r\n\r\nexport default Error\r\n","import {MenuItem} from \"@mui/material\";\r\nimport React from \"react\";\r\n\r\nconst colsToRows = (...columns) => {\r\n\r\n    columns = columns.filter(x => x !== undefined)\r\n\r\n    // Pre-condition: All arrays are same length\r\n    const\r\n        rowLength = columns.length,\r\n        colLength = columns[0].length;\r\n\r\n    const retArr = [];\r\n\r\n    for (let c = 0; c < colLength; c++) {\r\n        const row = [];\r\n        for (let r = 0; r < rowLength; r++) {\r\n            row.push(columns[r][c]);\r\n        }\r\n        retArr.push(row);\r\n    }\r\n    return retArr;\r\n};\r\n\r\nconst confIntZip = (cycle, ci, bound) => cycle.map((x, i) => bound === \"lb\" ? x - ci[i] : /* ub */ x + ci[i]);\r\n\r\nconst pairToParam = (paramName, currPair) =>\r\n    paramName + currPair[0].toString() + '=' + currPair[1].toString() + '&';\r\n\r\nconst pairArrayToParamStr = arr => arr.reduce(pairToParam, '?');\r\n\r\nasync function fetchWithTimeout(url) {\r\n    const\r\n        controller = new AbortController(),\r\n        timeoutID = setTimeout(() => controller.abort(), 20000), // 20 second timeout\r\n        f = await fetch(url, {signal: controller.signal});\r\n    clearTimeout(timeoutID);\r\n    return f;\r\n}\r\n\r\nconst createMenuItems = option => option.map((item) => <MenuItem value={item.value}>{item.text}</MenuItem>)\r\n\r\nconst createHoverText = option => {\r\n    const hoverText = {};\r\n    option.forEach(x => hoverText[x.value] = x.hoverText);\r\n    return fieldItem => hoverText[fieldItem];\r\n}\r\n\r\nexport {colsToRows, confIntZip, fetchWithTimeout, pairArrayToParamStr, createMenuItems, createHoverText}","import React, {Component} from 'react';\r\nimport {\r\n    Button,\r\n    Checkbox,\r\n    Divider,\r\n    FormControl,\r\n    FormControlLabel,\r\n    Grid,\r\n    InputLabel,\r\n    Select,\r\n    TextField,\r\n} from \"@mui/material\";\r\nimport '../styles/App.css';\r\nimport {field, alertErrors} from \"../config.json\";\r\nimport Error from \"./Error\";\r\nimport {createHoverText, createMenuItems} from \"../utils/utils\";\r\n\r\nexport class ParametersForm extends Component {\r\n\r\n    isDisabled = {\r\n        rollingWindow: () => this.props.values.demean === \"sm\",\r\n        delta: () => false, // this.props.values.deltaSelect !== 0,\r\n    };\r\n\r\n    isError = field => this.props.errors[field] !== undefined;\r\n\r\n    isErrorDisplaying = field => this.isError(field) && (this.isDisabled[field] === undefined || !this.isDisabled[field]());\r\n\r\n    errorsDisplayedCount = () => Object.keys(this.props.errors).map(key => this.isErrorDisplaying(key)).filter(x => x).length;\r\n\r\n    continue = e => {\r\n        e.preventDefault();\r\n        const {getResults, getFREDResults, handlers, values, errors, cancelLoad} = this.props;\r\n\r\n        if (values.dataInputType === \"FRED\" && errors[\"mnemonic\"] !== undefined) {\r\n            handlers.handleChange(\"alertErrorType\")({target: {value: \"INPUT_USER_M\"}});\r\n            cancelLoad();\r\n        } else if (values.dataInputType === \"USER\" && errors[\"unprocessedY\"] !== undefined) {\r\n            handlers.handleChange(\"alertErrorType\")({target: {value: \"INPUT_USER_S\"}});\r\n            cancelLoad();\r\n        }\r\n        else if (this.errorsDisplayedCount() === 0) {\r\n            if (values.dataInputType === \"FRED\") getFREDResults();\r\n            else if (values.dataInputType === \"USER\") getResults();\r\n            this.props.nextStep();\r\n        } else {\r\n            handlers.handleChange(\"alertErrorType\")({target: {value: \"INPUT_PARAM\"}});\r\n            cancelLoad();\r\n        }\r\n    }\r\n\r\n    back = e => {\r\n        e.preventDefault();\r\n        this.props.prevStep();\r\n    }\r\n\r\n    preAnalysisTransformations = () => {\r\n        const {values, handlers} = this.props;\r\n        const {handleChange, handleCheckboxChange} = handlers;\r\n\r\n        return (\r\n            <>\r\n                <div className=\"information\">\r\n                    <Divider style={{fontSize: 'x-large'}}>Transformations</Divider>\r\n                </div>\r\n                <Grid container direction=\"column\" justifyContent=\"space-evenly\" alignItems=\"center\" spacing={3}>\r\n                    <Grid item xs={4}>\r\n                        <FormControl variant=\"standard\">\r\n                            <FormControlLabel label=\"Natural Logarithm\"\r\n                                              title=\"Logarithm to the base of Euler's number\"\r\n                                              control={<Checkbox\r\n                                                  size=\"small\"\r\n                                                  onChange={handleCheckboxChange('takeLog')}\r\n                                                  checked={values.takeLog}\r\n                                                  disabled={!values.transform}/>}\r\n                            />\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={4}>\r\n                        <FormControl variant=\"standard\" sx={{minWidth: 350}}>\r\n                            <InputLabel>Differencing Method</InputLabel>\r\n                            <Select\r\n                                title=\"Differencing method applied\"\r\n                                onChange={handleChange('dCode')}\r\n                                value={values.dCode}\r\n                                disabled={!values.transform}\r\n                            >{createMenuItems(field.optionField.dCode.option)}</Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={4}>\r\n                        <FormControl variant=\"standard\" sx={{minWidth: 350}}>\r\n                            <InputLabel>Computed Percentages</InputLabel>\r\n                            <Select\r\n                                title=\"Multiple applied\"\r\n                                onChange={handleChange('pCode')}\r\n                                value={values.pCode}\r\n                                disabled={!values.transform}\r\n                            >{createMenuItems(field.optionField.pCode.option)}</Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n                </Grid>\r\n            </>)\r\n    }\r\n\r\n    bnFilterParameters = () => {\r\n\r\n        const\r\n            {values, handlers} = this.props,\r\n            {handleChange, handleNumberFieldChange, handleIntegerNumberFieldChange} = handlers,\r\n            errors = this.props.errors;\r\n\r\n        return (\r\n            <>\r\n                <div className=\"information\" style={{marginTop: \"35px\"}}>\r\n                    <Divider style={{fontSize: 'x-large'}}>Filter Parameters</Divider>\r\n                </div>\r\n                <div style={{\r\n                    width: \"420px\",\r\n                    alignItems: \"center\",\r\n                    display: \"inline-block\",\r\n                }}>\r\n                    <Grid container alignItems=\"flex-start\" justifyContent=\"space-evenly\" spacing={3}>\r\n                        <Grid item xs={7.75}>\r\n                            <FormControl variant=\"standard\" sx={{ width: 280 }}>\r\n                                <InputLabel>Signal-to-Noise Ratio (Delta)</InputLabel>\r\n                                <Select\r\n                                    label=\"Signal-to-Noise Ratio (Delta)\"\r\n                                    title={createHoverText(field.optionField.deltaSelect.option)(values.deltaSelect)}\r\n                                    onChange={handleChange('deltaSelect')}\r\n                                    value={values.deltaSelect}\r\n                                >{createMenuItems(field.optionField.deltaSelect.option)}</Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={4.25}>\r\n                            <FormControl variant=\"standard\" sx={{width: 140}}>\r\n                                <TextField\r\n                                    label={values.deltaSelect === 0 ? \"Fixed Delta\" : \"Minimum Delta\"}\r\n                                    title={values.deltaSelect === 0 ? \"Fixed delta for estimation\" : \"Minimum threshold start point for grid search (with grid increments of 0.0005)\"}\r\n                                    onChange={handleNumberFieldChange('delta')}\r\n                                    value={values.delta}\r\n                                    disabled={this.isDisabled['delta']()}\r\n                                    error={this.isErrorDisplaying('delta')}\r\n                                    helperText={this.isErrorDisplaying('delta') ?\r\n                                        errors['delta'] : \"â€‹\" /* zero whitespace to prevent height difference when error displays */}\r\n                                />\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={7.75}>\r\n                            <FormControl variant=\"standard\" sx={{minWidth: 280}}>\r\n                                <InputLabel>Demeaning</InputLabel>\r\n                                <Select\r\n                                    label=\"Demeaning\"\r\n                                    title={createHoverText(field.optionField.iterativeDynamicDemeaning.option)(values.demean)}\r\n                                    onChange={handleChange('demean')}\r\n                                    value={values.demean}\r\n                                >{createMenuItems(field.optionField.iterativeDynamicDemeaning.option)}</Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={4.25}>\r\n                            <FormControl variant=\"standard\" sx={{minWidth: 140}}>\r\n                                <TextField\r\n                                    label= \"Rolling Window\"\r\n                                    title=\"Only active when using dynamic demeaning. Upper bound is two less than the number of observations\"\r\n                                    onChange={handleIntegerNumberFieldChange('rollingWindow')}\r\n                                    value={values.rollingWindow}\r\n                                    disabled={this.isDisabled['rollingWindow']()}\r\n                                    error={this.isErrorDisplaying('rollingWindow')}\r\n                                    helperText={this.isErrorDisplaying('rollingWindow') ?\r\n                                        errors['rollingWindow'] : \"â€‹\" /* zero whitespace to prevent height difference when error displays */}\r\n                                />\r\n                            </FormControl>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div style={{minHeight: 600,}}>\r\n                    {this.props.values.loading === null ?\r\n                        <Error\r\n                            tagName={alertErrors[this.props.values.alertErrorType]}\r\n                            close={() => {this.props.handlers.handleChange(\"loading\")({target: {value: false}})}}/>\r\n                        : null}\r\n                    {this.preAnalysisTransformations()}\r\n                    {this.bnFilterParameters()}\r\n                </div>\r\n                <Button\r\n                    variant=\"outlined\"\r\n                    style={styles.button}\r\n                    onClick={this.back}\r\n                >Back</Button>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    style={styles.button}\r\n                    onClick={this.continue}\r\n                >Get Trend Decomposition</Button>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst styles = {\r\n    button: {\r\n        minHeight: \"45px\",\r\n        minWidth: \"100px\",\r\n        margin: \"0 20px 100px\",\r\n    }\r\n}\r\n\r\nexport default ParametersForm","import React from \"react\";\r\nimport {LocalizationProvider, DesktopDatePicker} from '@mui/x-date-pickers';\r\nimport AdapterDateFns from \"@mui/lab/AdapterDateFns\";\r\nimport {TextField} from \"@mui/material\";\r\n\r\nfunction CustomDatePicker(props) {\r\n    const date = props.date;\r\n\r\n    const handleDateChange = newValue => {\r\n        console.log(\"pre-handleDateChange: \", newValue)\r\n        props.updateDate({target: {value: newValue}});\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n                <DesktopDatePicker\r\n                    label={props.label}\r\n                    inputFormat=\"dd/MM/yyyy\"\r\n                    value={date}\r\n                    minDate={props.minDate}\r\n                    maxDate={props.maxDate}\r\n                    InputProps={{style: {width: 220}}}\r\n                    onChange={handleDateChange}\r\n                    disabled={props.isDisabled}\r\n                    renderInput={(params) =>\r\n                        <TextField {...params}\r\n                                   title={props.title}\r\n                                   InputLabelProps={{shrink: true}}\r\n                                   inputProps={{...params.inputProps, placeholder: \"DD/MM/YYYY\"}}/>}\r\n                />\r\n            </LocalizationProvider>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CustomDatePicker;","import React, {Component} from \"react\";\r\nimport {\r\n    Button,\r\n    Checkbox,\r\n    Divider,\r\n    FormControl,\r\n    FormControlLabel, FormGroup, FormHelperText,\r\n    Grid,\r\n    InputLabel,\r\n    Select,\r\n    TextField,\r\n} from \"@mui/material\";\r\nimport {withStyles} from \"@mui/styles\";\r\nimport CustomDatePicker from \"../pickers/CustomDatePicker\";\r\nimport {field, URL} from \"../config.json\";\r\nimport {createMenuItems, fetchWithTimeout, pairArrayToParamStr} from \"../utils/utils\";\r\nimport Error from \"./Error\";\r\nimport {ThreeDots} from \"react-loader-spinner\";\r\n\r\nexport class FREDDataForm extends Component {\r\n\r\n    state = {\r\n        mnemonic: this.props.values.mnemonic,\r\n        loading: false,\r\n        timeoutError: false,\r\n    }\r\n\r\n    createFilteredFrequencies = () => {\r\n        const items = field.optionField.frequencyFRED.option.filter(x => this.props.values.availableFrequencies.includes(x.value));\r\n        return createMenuItems(items);\r\n    }\r\n\r\n    checkAvailability = () => {\r\n        const\r\n            paramStr = pairArrayToParamStr([['fred_abbr', this.state.mnemonic]]),\r\n            finalURL = URL.baseBackendURL + URL.fredDataSlug + paramStr;\r\n\r\n        this.setState({loading: true}, async () => {\r\n\r\n            const {handleChange, setErrorMessage, deleteErrorMessage} = this.props;\r\n\r\n            const responseSuccess = () => {\r\n                this.setState(\r\n                    {\r\n                        timeoutError: false,\r\n                        loading: false,\r\n                    });\r\n            }\r\n\r\n            fetchWithTimeout(finalURL)\r\n                .catch(e => {\r\n                    this.setState(\r\n                        {\r\n                            timeoutError: true,\r\n                            loading: false,\r\n                        });\r\n                    setErrorMessage(\"mnemonic\", \"Internal error: Come back later\");\r\n                    throw e;\r\n                })\r\n                .then((response) => {\r\n                    if (response.status !== 200) {\r\n                        responseSuccess();\r\n                        setErrorMessage(\"mnemonic\", \"mnemonic is not available\");\r\n                        throw new Error(\"bad status\");\r\n                    } else {\r\n                        return response;\r\n                    }\r\n                })\r\n                .then((response) => response.json())\r\n                .then(result => {\r\n                    console.log('Success:', result);\r\n\r\n                    const\r\n                        parsedStartDate = result[\"start_date\"].split(\"-\").map(x => Number(x)),\r\n                        parsedEndDate = result[\"end_date\"].split(\"-\").map(x => Number(x)),\r\n                        startDate = new Date(parsedStartDate[0], parsedStartDate[1] - 1, parsedStartDate[2]),\r\n                        endDate = new Date(parsedEndDate[0], parsedEndDate[1] - 1, parsedEndDate[2]);\r\n\r\n                    console.log(\"response: startDate: \", startDate)\r\n                    console.log(\"response: endDate: \", endDate)\r\n\r\n                    deleteErrorMessage(\"mnemonic\");\r\n                    handleChange('availableFrequencies')({target: {value: result[\"available_frequencies\"]}});\r\n                    handleChange('frequencyFRED')({target: {value: result[\"available_frequencies\"][0]}});\r\n                    handleChange('mnemonic')({target: {value: this.state.mnemonic}});\r\n                    handleChange('startDateFRED')({target: {value: startDate}});\r\n                    handleChange('endDateFRED')({target: {value: endDate}});\r\n                    handleChange('minDate')({target: {value: startDate}});\r\n                    handleChange('maxDate')({target: {value: endDate}});\r\n                    responseSuccess();\r\n\r\n                }).catch((error) => {\r\n                console.log(error);\r\n            });\r\n        });\r\n    }\r\n\r\n    mnemonicInput = () => {\r\n\r\n        const\r\n            {values, errors} = this.props,\r\n            showText = () => !(errors[\"mnemonic\"] === undefined && values.mnemonic === \"\") || this.state.timeoutError === true,\r\n            mnemonicHelperText = () => {\r\n                if (!showText()) return \"â€‹\";\r\n                return errors['mnemonic'] !== undefined ? errors['mnemonic'] : \"mnemonic is available\";\r\n            };\r\n\r\n\r\n        return (\r\n            <Grid container direction=\"column\" sx={{minHeight: 80, marginBottom: 1}}\r\n                  justifyContent=\"space-evenly\"\r\n                  alignItems=\"center\">\r\n                <Grid item>\r\n                    <FormGroup row>\r\n                        <JoinedTextField variant=\"outlined\" label=\"FRED mnemonic\"\r\n                                         title=\"Press enter or click 'check' to check the availability of the mnemonic\"\r\n                                         color={errors[\"mnemonic\"] === undefined && values.mnemonic !== \"\" ? \"success\" : null} placeholder=\"e.g. GDPC1\" sx={{width: 250}}\r\n                                         error={errors[\"mnemonic\"] !== undefined}\r\n                                         onChange={e => this.setState({mnemonic: e.target.value}) }\r\n                                         onKeyDown={e => e.keyCode === 13 /* 'enter' key */ ? this.checkAvailability(e) : null}\r\n                                         value={this.state.mnemonic}\r\n                                         InputProps={{\r\n                                             endAdornment: this.state.loading ? <ThreeDots height={30} width={30} color='grey'/> : null}}/>\r\n                        <JoinedButton onClick={this.checkAvailability} variant=\"outlined\">Check</JoinedButton>\r\n                    </FormGroup>\r\n                    <FormHelperText>{mnemonicHelperText()}</FormHelperText>\r\n                </Grid>\r\n            </Grid>\r\n        )\r\n    }\r\n\r\n\r\n    render() {\r\n        const {values, handleChange, handleCheckboxChange} = this.props;\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"information\">\r\n                    <p>Choose a <a target=\"_blank\"\r\n                                                rel=\"noopener noreferrer\"\r\n                                                href=\"https://fred.stlouisfed.org/tags/series\">\r\n                        FRED mnemonic</a> and check its availability before continuing.</p>\r\n                </div>\r\n                <div style={{\r\n                    width: \"420px\",\r\n                    alignItems: \"center\",\r\n                    display: \"inline-block\",\r\n                }}>\r\n                    {this.mnemonicInput()}\r\n                    <div className=\"dataInformation\">\r\n                        <Divider\r\n                                 title=\"This option does not make alterations to the data but changes the display of the graph output\"\r\n                                 style={{fontSize: 'large'}}>Options</Divider>\r\n                    </div>\r\n                    <Grid container direction=\"column\" sx={{minHeight: 340,}}\r\n                          justifyContent=\"space-evenly\"\r\n                          alignItems=\"center\">\r\n                        <Grid item xs={3}>\r\n                            <CustomDatePicker\r\n                                              label={\"Start Date\"}\r\n                                              title={\"Series' start date (inclusive). Determined by FRED\"}\r\n                                              date={values.startDateFRED}\r\n                                              minDate={values.minDate}\r\n                                              maxDate={values.maxDate}\r\n                                              updateDate={handleChange('startDateFRED')}/>\r\n                        </Grid>\r\n                        <Grid item xs={3}>\r\n                            <CustomDatePicker\r\n                                              label={\"End Date\"}\r\n                                              title={\"Series' end date (inclusive). Determined by FRED\"}\r\n                                              date={values.endDateFRED}\r\n                                              minDate={values.minDate}\r\n                                              maxDate={values.maxDate}\r\n                                              updateDate={handleChange('endDateFRED')}/>\r\n                        </Grid>\r\n                        <Grid item xs={3}>\r\n                            <FormControl variant=\"standard\" sx={{minWidth: 220}}>\r\n                                <InputLabel>Frequency</InputLabel>\r\n                                <Select\r\n                                    title=\"Time-series frequency (default aggregation method: averaging)\"\r\n                                    onChange={handleChange('frequencyFRED')}\r\n                                    value={values.frequencyFRED}\r\n                                >{this.createFilteredFrequencies()}</Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={3}>\r\n                            <FormControl sx={{marginBottom: 3, marginTop: 2}} variant=\"standard\">\r\n                                <FormControlLabel label=\"95% Confidence Intervals\"\r\n                                                  title=\"Choose to report 95% confidence intervals in graph and CSV\"\r\n                                                  control={<Checkbox\r\n                                                      size=\"small\"\r\n                                                      onChange={handleCheckboxChange('dispCycleCI')}\r\n                                                      checked={values.dispCycleCI}/>}\r\n                                />\r\n                            </FormControl>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst JoinedTextField = withStyles({\r\n    root: {\r\n        \"& fieldset\": {\r\n            borderTopRightRadius: 0,\r\n            borderBottomRightRadius: 0,\r\n            borderRight: 0,\r\n        }\r\n    }\r\n})(TextField);\r\n\r\nconst JoinedButton = withStyles({\r\n    root: {\r\n        borderTopLeftRadius: 0,\r\n        borderBottomLeftRadius: 0,\r\n        backgroundColor: \"#ede8e8\",\r\n        borderColor: \"#454545\",\r\n        color: \"black\",\r\n    }\r\n})(Button);","import React, {Component} from \"react\";\r\nimport {\r\n    Checkbox,\r\n    Divider,\r\n    FormControl,\r\n    FormControlLabel,\r\n    Grid,\r\n    InputLabel,\r\n    Select,\r\n    TextField\r\n} from \"@mui/material\";\r\nimport CustomDatePicker from \"../pickers/CustomDatePicker\";\r\nimport {field} from \"../config.json\";\r\nimport {createMenuItems} from \"../utils/utils\";\r\n\r\nexport class UserDataForm extends Component {\r\n\r\n    handleTimeSeriesChange = e => {\r\n        e.preventDefault();\r\n        const\r\n            timeSeries = e.target.value,\r\n            {setErrorMessage, deleteErrorMessage, handleChange} = this.props;\r\n\r\n        const\r\n            notNumberReg = new RegExp(/[^\\d.,\\s]+/),\r\n            arrayFormReg = new RegExp(/^((\\d*(.\\d+)?),\\s*)+(\\d*(.\\d+)?)\\s*$/),\r\n            seriesFormReg = new RegExp(/^((\\d*(.\\d+)?)(\\r\\n|\\n|\\r))*((\\d*(.\\d+)?)(\\r\\n|\\n|\\r)?)$/);\r\n\r\n        const\r\n            nonNumberTest = notNumberReg.test(timeSeries),\r\n            arrayFormTest = arrayFormReg.test(timeSeries),\r\n            seriesFormTest = seriesFormReg.test(timeSeries);\r\n\r\n        let errorMessage = null;\r\n\r\n        if (timeSeries === \"\" || arrayFormTest || seriesFormTest) {\r\n            deleteErrorMessage(\"unprocessedY\");\r\n        }\r\n        else if (nonNumberTest) {\r\n            errorMessage = \"only accepts numbers, commas, and periods\";\r\n        } else if (!arrayFormTest && !seriesFormTest) {\r\n            errorMessage = \"bad input format\";\r\n        }\r\n        if (errorMessage !== null) setErrorMessage(\"unprocessedY\", errorMessage);\r\n\r\n        handleChange('unprocessedY')(e);\r\n    }\r\n\r\n    render() {\r\n        const {values, errors, handleChange, handleCheckboxChange} = this.props;\r\n\r\n        return (\r\n        <div>\r\n            <div className=\"information\">\r\n                <p>Enter or paste in your chosen time series below.\r\n                    Pasting a time series from a CSV or array will achieve the appropriate formatting.\r\n                </p>\r\n            </div>\r\n            <FormControl variant=\"standard\" sx={{m: 1, minWidth: 300, paddingRight: 2}}>\r\n                <TextField\r\n                    multiline\r\n                    rows={16}\r\n                    label=\"Time Series (y)\"\r\n                    title=\"Paste your chosen time series here\"\r\n                    onChange={this.handleTimeSeriesChange}\r\n                    InputLabelProps={{shrink: true}}\r\n                    // Hacky newline fix that works for all browsers (newline/line break not functioning in Safari)\r\n                    placeholder={\"e.g. \" + (new Array(100).join(\" \")) +\r\n                                \"101.2, 104.8, 102.4, ...\" + (new Array(100).join(\" \")) +\r\n                                \"e.g.\" + (new Array(100).join(\" \")) +\r\n                                \"101.2\" + (new Array(100).join(\" \")) +\r\n                                \"104.8\" + (new Array(100).join(\" \")) +\r\n                                \"102.4\" + (new Array(100).join(\" \")) +\r\n                                \"...\"}\r\n                    value={values.unprocessedY}\r\n                    error={errors[\"unprocessedY\"] !== undefined}\r\n                    helperText={errors[\"unprocessedY\"] !== undefined ?\r\n                        errors['unprocessedY'] : \"â€‹\" /* zero whitespace to prevent height difference when error displays */}\r\n                />\r\n            </FormControl>\r\n            <div style={{\r\n                width: \"420px\",\r\n                alignItems: \"center\",\r\n                display: \"inline-block\",\r\n            }}>\r\n                <div className=\"dataInformation\">\r\n                <Divider\r\n                         title=\"This option does not make alterations to the data but changes the display of the graph output\"\r\n                         style={{fontSize: 'large'}}>Display Options</Divider>\r\n                </div>\r\n                <Grid container direction=\"column\" sx={{minHeight: 400, paddingTop: 2}}\r\n                      justifyContent=\"space-evenly\"\r\n                      alignItems=\"center\">\r\n                    <Grid item xs={4}>\r\n                        <CustomDatePicker\r\n                                      label={\"Start Date\"}\r\n                                      title={\"Series' start date (inclusive). The end date is determined based on frequency\"}\r\n                                      date={values.startDate}\r\n                                      updateDate={this.props.handleChange('startDate')}\r\n                                      isDisabled={values.frequency === \"n\"}/>\r\n                    </Grid>\r\n                    <Grid item xs={4}>\r\n                        <FormControl variant=\"standard\" sx={{minWidth: 220}}>\r\n                            <InputLabel>Frequency</InputLabel>\r\n                            <Select\r\n                                title=\"Time-series frequency\"\r\n                                onChange={handleChange('frequency')}\r\n                                value={values.frequency}\r\n                            >{createMenuItems(field.optionField.frequencyManual.option)}</Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={4}>\r\n                        <FormControl sx={{marginBottom: 3, marginTop: 2}} variant=\"standard\">\r\n                            <FormControlLabel label=\"95% Confidence Intervals\"\r\n                                              title=\"Choose to display 95% confidence intervals in graph output\"\r\n                                              control={<Checkbox\r\n                                                  size=\"small\"\r\n                                                  onChange={handleCheckboxChange('dispCycleCI')}\r\n                                                  checked={values.dispCycleCI}/>}\r\n                            />\r\n                        </FormControl>\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {\r\n    ToggleButton,\r\n    ToggleButtonGroup,\r\n    Divider, Grid, Button,\r\n} from \"@mui/material\";\r\nimport '../styles/App.css';\r\nimport {FREDDataForm} from \"./FREDDataForm\";\r\nimport {UserDataForm} from \"./UserDataForm\";\r\n\r\nexport class DataForm extends Component {\r\n\r\n    toggleDataInputType = e => {\r\n        const {errors, valuesUserData, valuesFREDData, handleChange, deleteErrorMessage,} = this.props;\r\n\r\n        const\r\n            isMnemonicErrorDisplaying =\r\n            () => errors[\"mnemonic\"] !== undefined && valuesFREDData.dataInputType === \"FRED\",\r\n            isUserSeriesErrorDisplaying =\r\n            () => errors[\"unprocessedY\"] !== undefined && valuesUserData.dataInputType === \"USER\";\r\n\r\n        if (isMnemonicErrorDisplaying()) deleteErrorMessage(\"mnemonic\");\r\n        if (isUserSeriesErrorDisplaying()) deleteErrorMessage(\"unprocessedY\");\r\n\r\n        handleChange('dataInputType')(e);\r\n    }\r\n\r\n    continue = e => {\r\n        e.preventDefault();\r\n        const {valuesUserData, valuesFREDData, setErrorMessage, nextStep,} = this.props;\r\n        nextStep();\r\n        if (valuesFREDData.dataInputType === \"FRED\" && valuesFREDData.mnemonic === \"\") {\r\n            setErrorMessage(\"mnemonic\", \"mnemonic cannot be empty\");\r\n        }\r\n        if (valuesUserData.dataInputType === \"USER\" && valuesUserData.unprocessedY === \"\") {\r\n            setErrorMessage(\"unprocessedY\", \"time series field cannot be empty\");\r\n        }\r\n        console.log(valuesUserData)\r\n    }\r\n\r\n    render() {\r\n        const {valuesUserData, errors, valuesFREDData, setErrorMessage, deleteErrorMessage, handleChange, handleCheckboxChange} = this.props;\r\n\r\n        return (\r\n            <>\r\n                <div style={{minHeight: 600,}}>\r\n                    <div className=\"information\">\r\n                        <Divider style={{fontSize: 'x-large'}}>\r\n                            <ToggleButtonGroup\r\n                                color=\"primary\"\r\n                                value={valuesUserData.dataInputType}\r\n                                exclusive\r\n                                onChange={this.toggleDataInputType}\r\n                            >\r\n                                <ToggleButton value=\"FRED\">FRED Series</ToggleButton>\r\n                                <ToggleButton value=\"USER\">User Series</ToggleButton>\r\n                            </ToggleButtonGroup>\r\n                        </Divider>\r\n                    </div>\r\n                    {(() => {\r\n                        if (valuesUserData.dataInputType === \"USER\")\r\n                            return <UserDataForm\r\n                                        setErrorMessage={setErrorMessage}\r\n                                        deleteErrorMessage={deleteErrorMessage}\r\n                                        handleChange={handleChange}\r\n                                        handleCheckboxChange={handleCheckboxChange}\r\n                                        values={valuesUserData}\r\n                                        errors={errors}\r\n                                    />\r\n                        else if (valuesUserData.dataInputType === \"FRED\")\r\n                            return <FREDDataForm\r\n                                    setErrorMessage={setErrorMessage}\r\n                                    deleteErrorMessage={deleteErrorMessage}\r\n                                    handleChange={handleChange}\r\n                                    handleCheckboxChange={handleCheckboxChange}\r\n                                    values={valuesFREDData}\r\n                                    errors={errors}\r\n                                    />\r\n                    })()}\r\n                </div>\r\n                <Grid container direction=\"column\" justifyContent=\"space-evenly\"\r\n                      alignItems=\"center\">\r\n                    <Grid item xs={3}>\r\n                        <Button\r\n                            variant=\"outlined\"\r\n                            style={styles.button}\r\n                            onClick={this.props.prevStep}\r\n                        >Back</Button>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            style={styles.button}\r\n                            onClick={this.continue}\r\n                        >Continue</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DataForm\r\n\r\nconst styles = {\r\n    button: {\r\n        minHeight: \"45px\",\r\n        minWidth: \"100px\",\r\n        margin: \"0 20px 100px\",\r\n    },\r\n    headingFormControlLabel: {fontSize: 'large'}\r\n}","import React, {Component} from \"react\";\r\nimport Plot from 'react-plotly.js';\r\nimport {Button} from \"@mui/material\";\r\nimport {CSVLink} from \"react-csv\";\r\nimport {colsToRows} from \"../utils/utils\";\r\n\r\nexport class RenderedPlot extends Component {\r\n\r\n    fileName = \"BNF_cycle.csv\"\r\n\r\n    back = e => {\r\n        e.preventDefault();\r\n        this.props.prevStep();\r\n    }\r\n\r\n\r\n    getCSVData() {\r\n        const {plotPageValues} = this.props;\r\n\r\n        return colsToRows(\r\n            [\"date\"].concat(plotPageValues.x),\r\n            [(plotPageValues.dataInputType === \"FRED\" ? `${plotPageValues.mnemonic}_` : \"\" ) + \"original_y\"].concat(plotPageValues.y),\r\n            [\"cycle\"].concat(plotPageValues.cycle),\r\n            plotPageValues.dispCycleCI ? [\"conf_int_lower_bound\"].concat(plotPageValues.cycleCILB) : undefined,\r\n            plotPageValues.dispCycleCI ? [\"conf_int_upper_bound\"].concat(plotPageValues.cycleCIUB) : undefined);\r\n    }\r\n\r\n\r\n    getPlot() {\r\n        const {plotPageValues} = this.props;\r\n\r\n        console.log(plotPageValues.x)\r\n        console.log(plotPageValues.y)\r\n\r\n        return (\r\n            <Plot layout={{autosize: true, xaxis: {automargin: true}, yaxis: {automargin: true, tickangle: 'auto'},\r\n                width: window.screen.width <= 700 ? 450 : 700, // fit to window size\r\n                margin: {l: 20, r: 20, b: 20, t: 20, pad: 5}\r\n                }}\r\n                  data={[\r\n                      {\r\n                          x: plotPageValues.x,\r\n                          y: plotPageValues.cycle,\r\n                          type: 'scatter',\r\n                          mode: 'lines+markers',\r\n                          marker: {color: 'blue'},\r\n                          name: \"cycle\",\r\n                          showlegend: false,\r\n                      },\r\n                      plotPageValues.dispCycleCI ? {\r\n                          // confint lower bound: enclosing line (which is hidden) hence 0 opacity (using properties of 'tonexty')\r\n                          x: plotPageValues.x,\r\n                          y: plotPageValues.cycleCILB,\r\n                          fill: \"tonexty\",\r\n                          fillcolor: \"rgba(0, 0, 0, 0)\",\r\n                          line: {color: \"transparent\"},\r\n                          showlegend: false,\r\n                          type: \"scatter\",\r\n                          hoverinfo: 'skip',\r\n                      } : {},\r\n                      plotPageValues.dispCycleCI ? { // confint upper bound\r\n                          x: plotPageValues.x,\r\n                          y: plotPageValues.cycleCIUB,\r\n                          fill: \"tonexty\",\r\n                          fillcolor: \"rgba(0,100,80,0.2)\",\r\n                          line: {color: \"transparent\"},\r\n                          showlegend: false,\r\n                          type: \"scatter\",\r\n                          hoverinfo: 'skip',\r\n                      } : {},\r\n                  ]}\r\n            />\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const {plotPageValues} = this.props;\r\n        return (\r\n            <>\r\n                <div style={{minHeight: 600,}}>\r\n                    <div>\r\n                        {this.getPlot()}\r\n                        <p> Delta: {plotPageValues.deltaCalc.toFixed(4) /* delta reported to 4 d.p. */} </p>\r\n                    </div>\r\n                    <CSVLink style={{textDecoration: \"underline\"}}\r\n                             filename={this.fileName} data={this.getCSVData()}>Download as CSV</CSVLink>\r\n                </div>\r\n                <Button\r\n                    variant=\"outlined\"\r\n                    style={styles.button}\r\n                    onClick={this.back}\r\n                >Back</Button>\r\n            </>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst styles = {\r\n    button: {\r\n        minHeight: \"45px\",\r\n        minWidth: \"100px\",\r\n        margin: \"0 20px 100px\",\r\n    }\r\n}\r\n\r\nexport default RenderedPlot","import {Circles} from \"react-loader-spinner\";\r\nimport React from \"react\";\r\n\r\nfunction Loading() {\r\n    return (\r\n        <div style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-around\",\r\n            paddingTop: \"30vh\"\r\n        }}>\r\n            <Circles height={75} width={75} color='grey'/>\r\n        </div>)\r\n}\r\n\r\nexport default Loading;","class DateAbstract extends Date {\r\n\r\n    static createDate = (key, date) => {\r\n        switch (key) {\r\n            case \"a\":\r\n                return new AnnualDate(date);\r\n            case \"q\":\r\n                return new QuarterlyDate(date);\r\n            case \"m\":\r\n                return new MonthlyDate(date);\r\n            case \"w\":\r\n                return new WeeklyDate(date);\r\n            default:\r\n                throw new Error(\"Non-existent key\");\r\n        }\r\n    };\r\n\r\n    static toFixedTwoDigits = d => d.toString().length === 1 ? '0' + d : d;\r\n\r\n    static truncatedDate = date => `${date.getFullYear()}-${DateAbstract.toFixedTwoDigits(date.getMonth() + 1)}-${DateAbstract.toFixedTwoDigits(date.getDate())}`;\r\n\r\n    nextTimePeriod = () => {throw new Error(\"Child class must implement this method\");};\r\n\r\n    getDateSeries = periods => {\r\n        let currDate = this, retDate = this;\r\n        return Array.from({length: periods}).map(() => {\r\n            retDate = currDate;\r\n            currDate = currDate.nextTimePeriod();\r\n            return retDate;\r\n        })\r\n    };\r\n}\r\n\r\nclass WeeklyDate extends DateAbstract {\r\n    nextTimePeriod = () => {\r\n        const oldDate = new WeeklyDate(this);\r\n        return new WeeklyDate(oldDate.setDate(this.getDate() + 7));\r\n    };\r\n}\r\n\r\nclass MonthlyDate extends DateAbstract {\r\n    nextTimePeriod = () => {\r\n        const oldDate = new MonthlyDate(this);\r\n        return new MonthlyDate(oldDate.setMonth(this.getMonth() + 1));\r\n    };\r\n}\r\n\r\nclass QuarterlyDate extends DateAbstract {\r\n    nextTimePeriod = () => {\r\n        const oldDate = new QuarterlyDate(this);\r\n        return new QuarterlyDate(oldDate.setMonth(this.getMonth() + 3));\r\n    };\r\n}\r\n\r\nclass AnnualDate extends DateAbstract {\r\n    nextTimePeriod = () => {\r\n        const oldDate = new AnnualDate(this);\r\n        return new AnnualDate(oldDate.setFullYear(this.getFullYear() + 1));\r\n    };\r\n}\r\n\r\nexport {DateAbstract, WeeklyDate, MonthlyDate, QuarterlyDate, AnnualDate}\r\n","import React, {Component} from 'react';\r\nimport StartMenu from './StartMenu';\r\nimport ParametersForm from \"./ParametersForm\";\r\nimport DataForm from \"./DataForm\";\r\nimport RenderedPlot from \"./RenderedPlot\";\r\nimport Loading from \"./Loading\";\r\nimport Error from \"./Error\";\r\nimport {field, URL} from \"../config.json\";\r\nimport {DateAbstract} from \"../utils/date\";\r\nimport {confIntZip, fetchWithTimeout, pairArrayToParamStr} from \"../utils/utils\";\r\n\r\nexport class BasePage extends Component {\r\n    state = {\r\n        step: 1,\r\n        dataInputType: \"FRED\",\r\n        mnemonic: \"\",\r\n        unprocessedY: '',\r\n        x: [], // dates\r\n        y: [], // processed time series\r\n        delta: field.freeText.delta.default,\r\n        deltaSelect: 2,\r\n        demean: field.optionField.iterativeDynamicDemeaning.default,\r\n        iterativeBackcasting: true,\r\n        rollingWindow: field.freeText.rollingWindow.default,\r\n        frequency: field.optionField.frequencyManual.default, // periodicity\r\n        startDate: null,\r\n        endDate: null,\r\n        startDateFRED: null,\r\n        minDate: null,\r\n        maxDate: null,\r\n        endDateFRED: null,\r\n        availableFrequencies: [],\r\n        frequencyFRED: field.optionField.frequencyFRED.default,\r\n        transform: true, // transforms to data before bnf\r\n        dCode: field.optionField.dCode.default,\r\n        pCode: field.optionField.pCode.default,\r\n        takeLog: false,\r\n        // bnf output (from API)\r\n        cycle: [],\r\n        dispCycleCI: false,\r\n        cycleCI: [],\r\n        deltaCalc: undefined,\r\n        cycleCILB: [],\r\n        cycleCIUB: [],\r\n        loading: true,\r\n        alertErrorType: null, // overarching alert text\r\n        fieldErrorMessages: {},\r\n    }\r\n\r\n    nextStep = () => {\r\n        const {step} = this.state;\r\n        this.setState({\r\n            step: step + 1\r\n        });\r\n    }\r\n\r\n    prevStep = () => {\r\n        const {step} = this.state;\r\n        this.setState({\r\n            step: step - 1\r\n        });\r\n    }\r\n\r\n    cancelLoading = () => {\r\n        this.setState({loading: null});\r\n    }\r\n\r\n    handleChange = input => e => {\r\n        this.setState({[input]: e.target.value});\r\n    }\r\n\r\n    handleCheckboxChange = input => e => {\r\n        this.setState({[input]: e.target.checked});\r\n    }\r\n\r\n    setErrorMessage = (input, message) => {\r\n        this.setState({\r\n            fieldErrorMessages: {\r\n                ...this.state.fieldErrorMessages,\r\n                [input]: message\r\n            }\r\n        });\r\n    }\r\n\r\n    deleteErrorMessage = input => {\r\n        let fieldErrorMessagesTemp = {...this.state.fieldErrorMessages};\r\n        delete fieldErrorMessagesTemp[input];\r\n        this.setState({fieldErrorMessages : fieldErrorMessagesTemp});\r\n    }\r\n\r\n    isEmptyString = (v, input) => {\r\n        if (v === \"\") {\r\n            this.setErrorMessage(input, \"must not be empty\");\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    isNotANum = (v, input) => {\r\n        if (isNaN(v)) {\r\n            this.setErrorMessage(input, \"must be numeric\");\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    isNotAnInt = (v, input) => {\r\n        if ((v % 1) !== 0) {\r\n            this.setErrorMessage(input, \"must be an integer\");\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    isExceedsMinMax = (v, input) => {\r\n        if (field.freeText[input].min !== null && v < field.freeText[input].min) {\r\n            this.setErrorMessage(input, `must be â‰¥ ${field.freeText[input].min}`);\r\n            return true;\r\n        }\r\n        if (field.freeText[input].max !== null && v > field.freeText[input].max) {\r\n            this.setErrorMessage(input, `must be â‰¤ ${field.freeText[input].max}`);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    handleErrorField = isCorrectEntry => (input, v) => {\r\n        if (isCorrectEntry) this.deleteErrorMessage(input);\r\n        this.setState({[input]: v});\r\n    }\r\n\r\n    validateField = (arr, input, e) => {\r\n        // functions earlier in the array take precedence. [first_validated...last_validated]\r\n        const v = e.target.value;\r\n        const isIncorrectEntry = arr.reduce((total, currentValue) =>\r\n            total ? true : currentValue(v, input) || total, false)\r\n        this.handleErrorField(!isIncorrectEntry)(input, v)\r\n    }\r\n\r\n    handleNumberFieldChange = input => e => {\r\n        this.validateField([this.isEmptyString, this.isNotANum, this.isExceedsMinMax,], input, e);\r\n    }\r\n\r\n    handleIntegerNumberFieldChange = input => e => {\r\n        this.validateField([this.isEmptyString, this.isNotAnInt, this.isNotANum, this.isExceedsMinMax,], input, e);\r\n    }\r\n\r\n    handleChangeValidation = input => e => validationArr => {\r\n        this.validateField(validationArr, input, e);\r\n    }\r\n\r\n    bnfParamArr = () => [['window', this.state.rollingWindow],\r\n        ['delta_select', this.state.deltaSelect],\r\n        ['delta', this.state.delta],\r\n        ['ib', this.state.iterativeBackcasting],\r\n        ['demean', this.state.demean],].concat(\r\n        [['transform', this.state.transform]].concat(\r\n            this.state.transform ? [\r\n                    ['p_code', this.state.pCode],\r\n                    ['d_code', this.state.dCode],\r\n                    ['take_log', this.state.takeLog]]\r\n                : []\r\n        )\r\n    )\r\n\r\n    fetchResultWithErrorHandling = async (finalURL) => {\r\n        return fetchWithTimeout(finalURL)\r\n            .catch(e => {\r\n                this.setState({alertErrorType: \"TIMEOUT\"});\r\n                this.prevStep();\r\n                this.cancelLoading();\r\n                throw e;\r\n            })\r\n            .then((response) => {\r\n                if (response.status !== 200) {\r\n                    this.setState({alertErrorType: \"SERVER\"});\r\n                    this.prevStep();\r\n                    this.cancelLoading();\r\n                    throw new Error(\"bad status\");\r\n                } else {\r\n                    return response.json();\r\n                }\r\n            });\r\n\r\n    }\r\n\r\n    getResultsForFREDData = async () => {\r\n\r\n        const paramStr = pairArrayToParamStr(\r\n            [['fred_abbr', this.state.mnemonic],\r\n                ['freq', this.state.frequencyFRED],\r\n                ['obs_start', DateAbstract.truncatedDate(this.state.startDateFRED)],\r\n                ['obs_end', DateAbstract.truncatedDate(this.state.endDateFRED)],\r\n                ].concat(this.bnfParamArr())\r\n            );\r\n\r\n        const finalURL = URL.baseBackendURL + URL.bnfFredDataSlug + paramStr;\r\n\r\n        console.log(finalURL);\r\n\r\n        this.setState({loading: true}, async () => {\r\n            this.fetchResultWithErrorHandling(finalURL)\r\n                .then(result => {\r\n                    console.log('Success:', result);\r\n\r\n                    const\r\n                        cycleRes = result[\"cycle\"].map(x => Number(x)),\r\n                        ciRes = result[\"ci\"].map(x => Number(x)),\r\n                        deltaRes = Number(result[\"delta\"]);\r\n\r\n                    this.setState({\r\n                        x: result[\"dates\"],\r\n                        y: result[\"y\"],\r\n                        cycle: cycleRes,\r\n                        cycleCI: ciRes,\r\n                        deltaCalc: deltaRes,\r\n                        cycleCILB: confIntZip(cycleRes, ciRes, \"lb\"),\r\n                        cycleCIUB: confIntZip(cycleRes, ciRes, \"ub\"),\r\n                        loading: false,\r\n                    });\r\n                }).catch((error) => {\r\n                console.log(error);\r\n            });\r\n        });\r\n    }\r\n\r\n    getResultsForUserSpecifiedData = async () => {\r\n\r\n        // dealing with all operating system's newline characters\r\n        this.state.y = this.state.unprocessedY.replace(/(,?(\\r\\n|\\n|\\r))|(,\\s)/gm, \",\")\r\n            .split(\",\")\r\n            .filter(x => x !== \"\");\r\n\r\n        const paramStr = pairArrayToParamStr([['processed_y', this.state.y]].concat(this.bnfParamArr()));\r\n\r\n        const finalURL = URL.baseBackendURL + URL.bnfUserSpecifiedDataSlug + paramStr;\r\n\r\n        console.log(finalURL);\r\n\r\n        this.setState({loading: true}, async () => {\r\n            this.fetchResultWithErrorHandling(finalURL)\r\n                .then(result => {\r\n                    console.log('Success:', result);\r\n\r\n                    const\r\n                        cycleRes = result[\"cycle\"].map(x => Number(x)),\r\n                        ciRes = result[\"ci\"].map(x => Number(x)),\r\n                        deltaRes = Number(result[\"delta\"]);\r\n\r\n                    this.setState({\r\n                        x: this.state.frequency !== \"n\" ? // dated axis or numbered axis\r\n                            DateAbstract.createDate(this.state.frequency, this.state.startDate).getDateSeries(cycleRes.length).map(DateAbstract.truncatedDate)\r\n                            : Array.from({length: cycleRes.length}, (_, i) => i + 1),\r\n                        cycle: cycleRes,\r\n                        cycleCI: ciRes,\r\n                        deltaCalc: deltaRes,\r\n                        cycleCILB: confIntZip(cycleRes, ciRes, \"lb\"),\r\n                        cycleCIUB: confIntZip(cycleRes, ciRes, \"ub\"),\r\n                        loading: false,\r\n                    });\r\n                }).catch((error) => {\r\n                console.log(error);\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n        const {unprocessedY, startDate, endDate, frequency, dataInputType, dispCycleCI} = this.state;\r\n        const {startDateFRED, endDateFRED, minDate, maxDate, mnemonic, frequencyFRED, availableFrequencies} = this.state;\r\n        const dataUserFormPageValues = {unprocessedY, startDate, endDate, frequency, dataInputType, dispCycleCI};\r\n        const dataFREDFormPageValues = {startDateFRED, endDateFRED, minDate, maxDate, mnemonic, frequencyFRED, dataInputType, availableFrequencies, dispCycleCI};\r\n\r\n        const {\r\n            step,\r\n            delta,\r\n            deltaSelect,\r\n            demean,\r\n            iterativeBackcasting,\r\n            rollingWindow,\r\n            transform,\r\n            dCode,\r\n            pCode,\r\n            takeLog,\r\n            cycle,\r\n            deltaCalc,\r\n            fieldErrorMessages,\r\n            loading,\r\n            serverError,\r\n            alertErrorType,\r\n        } = this.state;\r\n        const parametersFormPageValues = {\r\n            unprocessedY,\r\n            delta,\r\n            deltaSelect,\r\n            demean,\r\n            iterativeBackcasting,\r\n            rollingWindow,\r\n            transform,\r\n            dCode,\r\n            pCode,\r\n            takeLog,\r\n            loading,\r\n            serverError,\r\n            dataInputType,\r\n            alertErrorType,\r\n        };\r\n\r\n        const {\r\n            handleChange, handleNumberFieldChange, handleIntegerNumberFieldChange,\r\n            handleCheckboxChange, handleErrorField\r\n        } = this;\r\n        const handlers = {\r\n            handleChange, handleNumberFieldChange, handleIntegerNumberFieldChange,\r\n            handleCheckboxChange, handleErrorField\r\n        };\r\n\r\n        const {x, y, cycleCILB, cycleCIUB,} = this.state;\r\n        const plotPageValues = {x, y, cycle, deltaCalc, dispCycleCI, cycleCILB, cycleCIUB, frequency, startDate, dataInputType, mnemonic};\r\n\r\n        return (\r\n            <>\r\n                {(() => {\r\n                    switch (step) {\r\n                        case 2:\r\n                            return <DataForm\r\n                                nextStep={this.nextStep}\r\n                                prevStep={this.prevStep}\r\n                                setErrorMessage={this.setErrorMessage}\r\n                                deleteErrorMessage={this.deleteErrorMessage}\r\n                                handleChange={this.handleChange}\r\n                                handleCheckboxChange={this.handleCheckboxChange}\r\n                                valuesUserData={dataUserFormPageValues}\r\n                                valuesFREDData={dataFREDFormPageValues}\r\n                                errors={fieldErrorMessages}\r\n                            />\r\n                        case 3:\r\n                            return (\r\n                                <>\r\n                                    <ParametersForm\r\n                                        nextStep={this.nextStep}\r\n                                        prevStep={this.prevStep}\r\n                                        cancelLoad={this.cancelLoading}\r\n                                        handlers={handlers}\r\n                                        getResults={this.getResultsForUserSpecifiedData}\r\n                                        getFREDResults={this.getResultsForFREDData}\r\n                                        values={parametersFormPageValues}\r\n                                        errors={fieldErrorMessages}\r\n                                    />\r\n                                </>\r\n                            )\r\n                        case 4:\r\n                            return (\r\n                                <>\r\n                                    {this.state.loading ? Loading() : <RenderedPlot\r\n                                                                            prevStep={this.prevStep}\r\n                                                                            plotPageValues={plotPageValues}\r\n                                                                        />\r\n                                    }\r\n                                </>\r\n                            )\r\n                        default: // case 1\r\n                            return <StartMenu\r\n                                nextStep={this.nextStep}\r\n                                handleChange={this.handleChange}\r\n                            />\r\n                    }\r\n                })()}\r\n            </>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default BasePage","import './styles/App.css';\r\nimport BasePage from './components/BasePage';\r\nimport React from \"react\";\r\n\r\n\r\nfunction App() {\r\n\r\n    return (\r\n        <>\r\n        <div className=\"App\">\r\n            <header className=\"appHeader\">\r\n                BN Filter Trend-Cycle Decomposition\r\n            </header>\r\n\r\n            <div className=\"information welcomeInformation\">\r\n                <p>This tool performs trend-cycle decomposition.\r\n                    It is implemented using the Beveridge-Nelson filter method described in <a target=\"_blank\"\r\n                                                                                               rel=\"noopener noreferrer\"\r\n                                                                                               href=\"https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3434174\">\r\n                        Kamber, Morley, and Wong</a>.\r\n                </p>\r\n\r\n            </div>\r\n            <BasePage/>\r\n        </div>\r\n        <div style={styles.footer}>\r\n            <a href=\"https://sites.google.com/site/guneskamber\" rel=\"noopener noreferrer\" target=\"_blank\">\r\n                Gunes Kamber</a>&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <a href=\"https://sites.google.com/site/jamescmorley\" rel=\"noopener noreferrer\" target=\"_blank\">\r\n                James Morley</a>&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <a href=\"https://sites.google.com/site/benjaminwongshijie\" rel=\"noopener noreferrer\"\r\n               target=\"_blank\">\r\n                Benjamin Wong</a>\r\n            <br/>\r\n            <div style={styles.feature}>\r\n                <a href=\"https://crstnn.github.io/\" rel=\"noopener noreferrer\" target=\"_blank\">@cristian</a>\r\n            </div>\r\n        </div>\r\n        </>\r\n    );\r\n}\r\n\r\nconst styles = {\r\n    footer: {\r\n        fontSize: \"small\",\r\n        backgroundColor: \"#F7F7F7\",\r\n        borderTop: \"1px solid #E7E7E7\",\r\n        textAlign: \"center\",\r\n        padding: \"10px\",\r\n        marginTop: \"10px\",\r\n        position: \"fixed\",\r\n        overflowX: \"hidden\",\r\n        left: \"0\",\r\n        bottom: \"0\",\r\n        width: \"100%\",\r\n        zIndex: 1,\r\n    },\r\n    feature: {\r\n        marginTop: \"5px\",\r\n        fontSize: \"x-small\",\r\n    }\r\n};\r\n\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n    if (onPerfEntry && onPerfEntry instanceof Function) {\r\n        import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\r\n            getCLS(onPerfEntry);\r\n            getFID(onPerfEntry);\r\n            getFCP(onPerfEntry);\r\n            getLCP(onPerfEntry);\r\n            getTTFB(onPerfEntry);\r\n        });\r\n    }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App/>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}