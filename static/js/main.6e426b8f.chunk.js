(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){e.exports=a(141)},125:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(43),i=a.n(l),o=(a(125),a(69),a(35)),c=a.n(o),s=a(50),u=a(60),d=a(4),m=a(17),p=a(23),h=a(20),f=a(18),g=a(19),b=a(213),v=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).continue=function(e){e.preventDefault(),a.props.nextStep()},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"information"},r.a.createElement("p",null,"You will be guided through the steps to perform trend-cycle decomposition on either:"),r.a.createElement("ol",null,r.a.createElement("li",null,"A time series of your choosing to be pasted into a field, or"),r.a.createElement("li",null,"A time series from the Federal Reserve Economic Database (FRED) using its mnemonic")),r.a.createElement("p",null,"Note that there is additional information provided when hovering over the options in the subsequent pages. The cycle is reported and can be downloaded as a CSV.")),r.a.createElement(b.a,{variant:"contained",style:y.button,onClick:this.continue},"Continue"),r.a.createElement("br",null))}}]),t}(n.Component),y={button:{margin:"30px 0 100px"}},E=v,D=a(194),C=a(211),x=a(219),F=a(220),j=a(209),w=a(214),k=a(212),S=a(206),O=a(223),I=a(15),R=a(210),M=function(e){return e.map(function(e){return r.a.createElement(R.a,{value:e.value},e.text)})},T=a(208),N=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{margin:"2px 20%"}},r.a.createElement(T.a,{variant:"filled",severity:"error",onClose:this.props.close},this.props.tagName))}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).isDisabled={rollingWindow:function(){return"sm"===a.props.values.demean},fixedDelta:function(){return 0!==a.props.values.deltaSelect}},a.isError=function(e){return void 0!==a.props.errors[e]},a.isErrorDisplaying=function(e){return a.isError(e)&&!a.isDisabled[e]()},a.errorsDisplayedCount=function(){return Object.keys(a.props.errors).map(function(e){return a.isErrorDisplaying(e)}).filter(function(e){return e}).length},a.continue=function(e){e.preventDefault();var t=a.props,n=t.getResults,r=t.getFREDResults,l=t.values,i=t.cancelLoad;0===a.errorsDisplayedCount()?"FRED"===l.dataInputType?r():"USER"===l.dataInputType&&n():i(),e.preventDefault(),a.props.nextStep()},a.back=function(e){e.preventDefault(),a.props.prevStep()},a.preAnalysisTransformations=function(){var e=a.props,t=e.values,n=e.handlers,l=n.handleChange,i=n.handleCheckboxChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"information"},r.a.createElement(D.a,{light:!0},r.a.createElement(C.a,{variant:"standard"},r.a.createElement(x.a,{label:r.a.createElement(F.a,{style:{fontSize:"x-large"}},"Transformations"),title:"Transformations are applied in the order below and are done prior to estimation. Check this box to apply them.",control:r.a.createElement(j.a,{onChange:i("transform"),checked:t.transform})})))),r.a.createElement(w.a,{container:!0,direction:"column",justifyContent:"space-evenly",alignItems:"center",spacing:3},r.a.createElement(w.a,{item:!0,xs:4},r.a.createElement(C.a,{variant:"standard"},r.a.createElement(x.a,{label:"Natural Logarithm",title:"Logarithm to the base of Euler's number",control:r.a.createElement(j.a,{size:"small",onChange:i("takeLog"),checked:t.takeLog,disabled:!t.transform})}))),r.a.createElement(w.a,{item:!0,xs:3},r.a.createElement(C.a,{variant:"standard",sx:{minWidth:350}},r.a.createElement(k.a,null,"Differencing Method"),r.a.createElement(S.a,{title:"Differencing method applied",onChange:l("dCode"),defaultValue:t.dCode,disabled:!t.transform},M(I.b.optionField.dCode.option)))),r.a.createElement(w.a,{item:!0,xs:4},r.a.createElement(C.a,{variant:"standard",sx:{minWidth:350}},r.a.createElement(k.a,null,"Computed Percentages"),r.a.createElement(S.a,{title:"Multiple applied",onChange:l("pCode"),defaultValue:t.pCode,disabled:!t.transform},M(I.b.optionField.pCode.option))))))},a.bnFilterParameters=function(){var e=a.props,t=e.values,n=e.handlers,l=n.handleChange,i=n.handleNumberFieldChange,o=n.handleIntegerNumberFieldChange,c=a.props.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"information"},r.a.createElement(D.a,{style:{fontSize:"x-large"}},"Filter Parameters")),r.a.createElement("div",{style:{width:"450px",alignItems:"center",display:"inline-block"}},r.a.createElement(w.a,{container:!0,alignItems:"flex-start",justifyContent:"space-evenly",spacing:3},r.a.createElement(w.a,{item:!0,xs:8},r.a.createElement(C.a,{variant:"standard",sx:{minWidth:300}},r.a.createElement(k.a,null,"Signal-to-Noise Ratio (Delta)"),r.a.createElement(S.a,{label:"Signal-to-Noise Ratio (Delta)",title:"Signal-to-Noise Ratio according to benchmark KMW approach",onChange:l("deltaSelect"),defaultValue:t.deltaSelect},M(I.b.optionField.deltaSelect.option)))),r.a.createElement(w.a,{item:!0,xs:4},r.a.createElement(C.a,{variant:"standard",sx:{minWidth:170}},r.a.createElement(O.a,{label:"Fixed Delta",title:"Only necessary when Signal-to-noise ratio is set to 'Fixed Delta'",onChange:i("fixedDelta"),defaultValue:t.fixedDelta,disabled:a.isDisabled.fixedDelta(),error:a.isErrorDisplaying("fixedDelta"),helperText:a.isErrorDisplaying("fixedDelta")?c.fixedDelta:"\u200b"}))),r.a.createElement(w.a,{item:!0,xs:8},r.a.createElement(C.a,{variant:"standard",sx:{minWidth:290}},r.a.createElement(k.a,null,"Demeaning"),r.a.createElement(S.a,{label:"Demeaning method",onChange:l("demean"),defaultValue:t.demean},M(I.b.optionField.iterativeDynamicDemeaning.option)))),r.a.createElement(w.a,{item:!0,xs:4},r.a.createElement(C.a,{variant:"standard",sx:{minWidth:170}},r.a.createElement(O.a,{label:"Rolling Window",title:"Only necessary when the demeaning method is dynamic. Must be an integer.",onChange:o("rollingWindow"),defaultValue:t.rollingWindow,disabled:a.isDisabled.rollingWindow(),error:a.isErrorDisplaying("rollingWindow"),helperText:a.isErrorDisplaying("rollingWindow")?c.rollingWindow:"\u200b"}))))))},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{minHeight:600}},null===this.props.values.loading?r.a.createElement(N,{tagName:"During the running of the BN filter a problem occurred. Please check that the inputs are appropriate.",close:function(){e.props.handlers.handleChange("loading")({target:{value:!1}})}}):null,this.preAnalysisTransformations(),this.bnFilterParameters()),r.a.createElement(b.a,{variant:"outlined",style:q.button,onClick:this.back},"Back"),r.a.createElement(b.a,{variant:"contained",style:q.button,onClick:this.continue},"Get Trend Decomposition"))}}]),t}(n.Component),q={button:{margin:"0 20px 100px"}},B=A,P=a(216),L=a(226),W=a(225),_=a(224),U=a(205),V=a(102),Y=a(203),z=a(204);var H=function(e){var t=e.date;return r.a.createElement("div",null,r.a.createElement(V.a,{dateAdapter:z.a},r.a.createElement(Y.a,{label:e.label,inputFormat:"dd/MM/yyyy",value:t,minDate:e.minDate,maxDate:e.maxDate,InputProps:{style:{width:220}},onChange:function(t){e.updateDate({target:{value:t}})},disabled:e.isDisabled,renderInput:function(e){return r.a.createElement(O.a,Object.assign({},e,{InputLabelProps:{shrink:!0},inputProps:Object(u.a)({},e.inputProps,{placeholder:"DD/MM/YYYY"})}))}})))},Q=function(e,t,a){return e.map(function(e,n){return"lb"===a?e-t[n]:e+t[n]})},G=function(e,t){return e+t[0].toString()+"="+t[1].toString()+"&"},J=function(e){return e.reduce(G,"?")},K=a(73),Z=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).state={mnemonic:a.props.values.mnemonic,isBadMnemonic:a.props.errors.mnemonic,loading:!1},a.createFilteredFrequencies=function(){var e=I.b.optionField.frequencyFRED.option.filter(function(e){return a.props.values.availableFrequencies.includes(e.value)});return M(e)},a.checkAvailability=function(){var e=J([["fred_abbr",a.state.mnemonic]]),t=I.a.baseBackendURL+I.a.fredDataSlug+e;a.setState({loading:!0},Object(s.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(t).then(function(e){if(200!==e.status)throw a.setState({isBadMnemonic:!0,loading:!1}),a.props.setErrorMessage("mnemonic","The mnemonic is not available"),new N("bad status");return e}).then(function(e){return e.json()}).then(function(e){console.log("Success:",e);var t=new Date(e.start_date),n=new Date(e.end_date);a.setState({loading:!1,isBadMnemonic:!1}),a.props.deleteErrorMessage("mnemonic"),a.props.handleChange("mnemonic")({target:{value:a.state.mnemonic}}),a.props.handleChange("startDateFRED")({target:{value:t}}),a.props.handleChange("endDateFRED")({target:{value:n}}),a.props.handleChange("minDate")({target:{value:t}}),a.props.handleChange("maxDate")({target:{value:n}}),a.props.handleChange("availableFrequencies")({target:{value:e.available_frequencies}}),a.props.handleChange("frequencyFRED")({target:{value:e.available_frequencies[0]}})}).catch(function(e){console.log(e)});case 1:case"end":return e.stop()}},e)})))},a.mnemonicInput=function(){return r.a.createElement(w.a,{container:!0,direction:"column",sx:{minHeight:100},justifyContent:"space-evenly",alignItems:"center"},r.a.createElement(w.a,{item:!0},r.a.createElement(W.a,{row:!0},r.a.createElement(X,{variant:"outlined",label:"FRED mnemonic",color:void 0===a.props.errors.mnemonic&&""!==a.props.values.mnemonic?"success":null,placeholder:"e.g. GDPC1",sx:{width:250},error:void 0!==a.props.errors.mnemonic,onChange:function(e){return a.setState({mnemonic:e.target.value})},defaultValue:a.state.mnemonic,InputProps:{endAdornment:a.state.loading?r.a.createElement(K.b,{height:30,width:30,color:"grey"}):null}}),r.a.createElement($,{onClick:a.checkAvailability,variant:"outlined"},"Check")),r.a.createElement(_.a,null,void 0===a.props.errors.mnemonic&&""===a.props.values.mnemonic?"\u200b":void 0!==a.props.errors.mnemonic?a.props.errors.mnemonic:"The mnemonic is available")))},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.values,a=e.handleChange,n=e.handleCheckboxChange;return r.a.createElement("div",null,r.a.createElement("div",{className:"information"},r.a.createElement("p",null,"Choose a ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://fred.stlouisfed.org/tags/series"},"FRED mnemonic")," and check its availability before continuing.")),r.a.createElement("div",{style:{width:"450px",alignItems:"center",display:"inline-block"}},this.mnemonicInput(),r.a.createElement(D.a,{light:!0,title:"This option does not make alterations to the data but changes the display of the graph output",style:{fontSize:"large"}},"Options"),r.a.createElement(w.a,{container:!0,direction:"column",sx:{minHeight:350},justifyContent:"space-evenly",alignItems:"center"},r.a.createElement(w.a,{item:!0,xs:3},r.a.createElement(H,{label:"Start Date",date:t.startDateFRED,minDate:t.minDate,maxDate:t.maxDate,updateDate:a("startDateFRED")})),r.a.createElement(w.a,{item:!0,xs:3},r.a.createElement(H,{label:"End Date",date:t.endDateFRED,minDate:t.minDate,maxDate:t.maxDate,updateDate:a("endDateFRED")})),r.a.createElement(w.a,{item:!0,xs:3},r.a.createElement(C.a,{variant:"standard",sx:{minWidth:220}},r.a.createElement(k.a,null,"Frequency"),r.a.createElement(S.a,{title:"Time-series frequency (average default aggregation method)",onChange:a("frequencyFRED"),defaultValue:t.frequencyFRED},this.createFilteredFrequencies()))),r.a.createElement(w.a,{item:!0,xs:3},r.a.createElement(C.a,{sx:{marginBottom:3,marginTop:2},variant:"standard"},r.a.createElement(x.a,{label:"95% Confidence Intervals",title:"Choose to display 95% confidence intervals in graph output",control:r.a.createElement(j.a,{size:"small",onChange:n("dispCycleCI"),checked:t.dispCycleCI})}))))))}}]),t}(n.Component),X=Object(U.a)({root:{"& fieldset":{borderTopRightRadius:0,borderBottomRightRadius:0}}})(O.a),$=Object(U.a)({root:{borderTopLeftRadius:0,borderBottomLeftRadius:0,backgroundColor:"#ede8e8",borderColor:"#454545",color:"black"}})(b.a),ee=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.values,a=e.handleChange,n=e.handleCheckboxChange;return r.a.createElement("div",null,r.a.createElement("div",{className:"information"},r.a.createElement("p",null,"Enter or paste in your chosen time series below. Each observation must start on the next line. Pasting a time series from a CSV will achieve the appropriate formatting.")),r.a.createElement(C.a,{variant:"standard",sx:{m:1,minWidth:300,paddingRight:2}},r.a.createElement(O.a,{multiline:!0,rows:16,label:"Time Series (y)",title:"Paste your chosen time series here",onChange:a("unprocessedY"),InputLabelProps:{shrink:!0},placeholder:"e.g."+new Array(100).join(" ")+"101.2"+new Array(100).join(" ")+"104.8"+new Array(100).join(" ")+"102.4"+new Array(100).join(" ")+"...",defaultValue:t.unprocessedY})),r.a.createElement("div",{style:{width:"450px",alignItems:"center",display:"inline-block"}},r.a.createElement(D.a,{light:!0,title:"This option does not make alterations to the data but changes the display of the graph output",style:{fontSize:"large"}},"Display Options"),r.a.createElement(w.a,{container:!0,direction:"column",sx:{minHeight:400,paddingTop:2},justifyContent:"space-evenly",alignItems:"center"},r.a.createElement(w.a,{item:!0,xs:4},r.a.createElement(H,{label:"Start Date",date:t.startDate,updateDate:this.props.handleChange("startDate"),isDisabled:"n"===t.frequency})),r.a.createElement(w.a,{item:!0,xs:4},r.a.createElement(C.a,{variant:"standard",sx:{minWidth:220}},r.a.createElement(k.a,null,"Frequency"),r.a.createElement(S.a,{title:"Time-series frequency",onChange:a("frequency"),defaultValue:t.frequency},M(I.b.optionField.frequencyManual.option)))),r.a.createElement(w.a,{item:!0,xs:4},r.a.createElement(C.a,{sx:{marginBottom:3,marginTop:2},variant:"standard"},r.a.createElement(x.a,{label:"95% Confidence Intervals",title:"Choose to display 95% confidence intervals in graph output",control:r.a.createElement(j.a,{size:"small",onChange:n("dispCycleCI"),checked:t.dispCycleCI})}))))))}}]),t}(n.Component),te=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).toggleDataInputType=function(e){void 0!==a.props.errors.mnemonic&&"FRED"===a.props.valuesUserData.dataInputType&&a.props.deleteErrorMessage("mnemonic"),void 0!==a.props.errors.unprocessedY&&"USER"===a.props.valuesUserData.dataInputType&&a.props.deleteErrorMessage("unprocessedY"),a.props.handleChange("dataInputType")(e)},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.valuesUserData,a=e.errors,n=e.valuesFREDData,l=e.setErrorMessage,i=e.deleteErrorMessage,o=e.handleChange,c=e.handleCheckboxChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{minHeight:600}},r.a.createElement("div",{className:"information"},r.a.createElement(D.a,{style:{fontSize:"x-large"}},r.a.createElement(P.a,{color:"primary",value:t.dataInputType,exclusive:!0,onChange:this.toggleDataInputType},r.a.createElement(L.a,{value:"FRED"},"FRED Series"),r.a.createElement(L.a,{value:"USER"},"User Series")))),"USER"===t.dataInputType?r.a.createElement(ee,{handleChange:o,handleCheckboxChange:c,values:t}):"FRED"===t.dataInputType?r.a.createElement(Z,{setErrorMessage:l,deleteErrorMessage:i,handleChange:o,handleCheckboxChange:c,values:n,errors:a}):void 0),r.a.createElement(w.a,{container:!0,direction:"column",justifyContent:"space-evenly",alignItems:"center"},r.a.createElement(w.a,{item:!0,xs:3},r.a.createElement(b.a,{variant:"outlined",style:ae.button,onClick:this.props.prevStep},"Back"),r.a.createElement(b.a,{variant:"contained",style:ae.button,onClick:this.props.nextStep},"Continue"))))}}]),t}(n.Component),ae={button:{margin:"0 20px 100px"},headingFormControlLabel:{fontSize:"large"}},ne=a(99),re=a.n(ne),le=a(100),ie=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).fileName="BNF_cycle.csv",a.back=function(e){e.preventDefault(),a.props.prevStep()},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"getCSVData",value:function(){var e=this.props.plotPageValues;return function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];for(var n=(t=t.filter(function(e){return void 0!==e})).length,r=t[0].length,l=[],i=0;i<r;i++){for(var o=[],c=0;c<n;c++)o.push(t[c][i]);l.push(o)}return l}(["date"].concat(e.x),["original_y"].concat(e.y),["cycle"].concat(e.cycle),e.dispCycleCI?["conf_int_lower_bound"].concat(e.cycleCILB):void 0,e.dispCycleCI?["conf_int_upper_bound"].concat(e.cycleCIUB):void 0)}},{key:"getPlot",value:function(){var e=this.props.plotPageValues;return console.log(e.x),console.log(e.y),r.a.createElement(re.a,{layout:{autosize:!0,xaxis:{automargin:!0},yaxis:{automargin:!0,tickangle:"auto"}},data:[{x:e.x,y:e.cycle,type:"scatter",mode:"lines+markers",marker:{color:"blue"},name:"cycle",showlegend:!1},e.dispCycleCI?{x:e.x,y:e.cycleCILB,fill:"tonexty",fillcolor:"rgba(0, 0, 0, 0)",line:{color:"transparent"},showlegend:!1,type:"scatter",hoverinfo:"skip"}:{},e.dispCycleCI?{x:e.x,y:e.cycleCIUB,fill:"tonexty",fillcolor:"rgba(0,100,80,0.2)",line:{color:"transparent"},showlegend:!1,type:"scatter",hoverinfo:"skip"}:{}]})}},{key:"render",value:function(){var e=this.props.plotPageValues;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{minHeight:600}},r.a.createElement("div",null,this.getPlot(),r.a.createElement("p",null," Delta: ",e.deltaCalc," ")),r.a.createElement(le.CSVLink,{style:{textDecoration:"underline"},filename:this.fileName,data:this.getCSVData()},"Download as CSV")),r.a.createElement(b.a,{variant:"outlined",style:oe.button,onClick:this.back},"Back"))}}]),t}(n.Component),oe={button:{margin:"0 20px 100px"}},ce=ie;var se=function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",paddingTop:"30vh"}},r.a.createElement(K.a,{height:75,width:75,color:"grey"}))},ue=a(32),de=a(101),me=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).nextTimePeriod=function(){throw new Error("Child class must implement this method")},a.getDateArray=function(e){var t=Object(ue.a)(Object(ue.a)(a)),n=Object(ue.a)(Object(ue.a)(a));return Array.from({length:e}).map(function(){return n=t,t=t.nextTimePeriod(),n})},a}return Object(g.a)(t,e),t}(Object(de.a)(Date));me.createDate=function(e,t){switch(e){case"a":return new ge(t);case"q":return new fe(t);case"m":return new he(t);case"w":return new pe(t);default:throw new Error("Non-existent key")}},me.packWithZero=function(e){return 1===e.toString().length?"0"+e:e},me.getTruncatedDate=function(e){return"".concat(e.getFullYear(),"-").concat(me.packWithZero(e.getMonth()+1),"-").concat(me.packWithZero(e.getDate()))};var pe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).nextTimePeriod=function(){var e=new t(Object(ue.a)(Object(ue.a)(a)));return new t(e.setDate(a.getDate()+7))},a}return Object(g.a)(t,e),t}(me),he=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).nextTimePeriod=function(){var e=new t(Object(ue.a)(Object(ue.a)(a)));return new t(e.setMonth(a.getMonth()+1))},a}return Object(g.a)(t,e),t}(me),fe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).nextTimePeriod=function(){var e=new t(Object(ue.a)(Object(ue.a)(a)));return new t(e.setMonth(a.getMonth()+3))},a}return Object(g.a)(t,e),t}(me),ge=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).nextTimePeriod=function(){var e=new t(Object(ue.a)(Object(ue.a)(a)));return new t(e.setFullYear(a.getFullYear()+1))},a}return Object(g.a)(t,e),t}(me),be=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={step:1,dataInputType:"FRED",mnemonic:"",unprocessedY:"",x:[],y:[],fixedDelta:I.b.freeText.fixedDelta.default,deltaSelect:2,demean:I.b.optionField.iterativeDynamicDemeaning.default,iterativeBackcasting:!0,rollingWindow:I.b.freeText.rollingWindow.default,frequency:I.b.optionField.frequencyManual.default,startDate:null,endDate:null,startDateFRED:null,minDate:null,maxDate:null,endDateFRED:null,availableFrequencies:[],frequencyFRED:I.b.optionField.frequencyFRED.default,transform:!1,dCode:I.b.optionField.dCode.default,pCode:I.b.optionField.pCode.default,takeLog:!1,cycle:[],dispCycleCI:!1,cycleCI:[],deltaCalc:void 0,cycleCILB:[],cycleCIUB:[],loading:!0,errorMessage:{}},a.nextStep=function(){var e=a.state.step;a.setState({step:e+1})},a.prevStep=function(){var e=a.state.step;a.setState({step:e-1})},a.cancelLoading=function(){a.prevStep(),a.setState({loading:null})},a.handleChange=function(e){return function(t){a.setState(Object(d.a)({},e,t.target.value))}},a.handleCheckboxChange=function(e){return function(t){a.setState(Object(d.a)({},e,t.target.checked))}},a.setErrorMessage=function(e,t){a.setState({errorMessage:Object(u.a)({},a.state.errorMessage,Object(d.a)({},e,t))})},a.deleteErrorMessage=function(e){var t=Object(u.a)({},a.state);delete t.errorMessage[e],a.setState(t)},a.isEmptyString=function(e,t){return""===e&&(a.setErrorMessage(t,"must not be empty"),!0)},a.isNotANum=function(e,t){return!!isNaN(e)&&(a.setErrorMessage(t,"must be numeric"),!0)},a.isNotAnInt=function(e,t){return e%1!==0&&(a.setErrorMessage(t,"must be an integer"),!0)},a.isExceedsMinMax=function(e,t){return e<I.b.freeText[t].min?(a.setErrorMessage(t,"must be \u2265 ".concat(I.b.freeText[t].min)),!0):e>I.b.freeText[t].max&&(a.setErrorMessage(t,"must be \u2264 ".concat(I.b.freeText[t].max)),!0)},a.handleErrorField=function(e){return function(t,n){e&&a.deleteErrorMessage(t),a.setState(Object(d.a)({},t,n))}},a.validateField=function(e,t,n){var r=n.target.value,l=e.reduce(function(e,a){return!!e||(a(r,t)||e)},!1);a.handleErrorField(!l)(t,r)},a.handleNumberFieldChange=function(e){return function(t){a.validateField([a.isEmptyString,a.isNotANum,a.isExceedsMinMax],e,t)}},a.handleIntegerNumberFieldChange=function(e){return function(t){a.validateField([a.isEmptyString,a.isNotAnInt,a.isNotANum,a.isExceedsMinMax],e,t)}},a.bnfParamArr=function(){return[["window",a.state.rollingWindow],["delta_select",a.state.deltaSelect],["fixed_delta",a.state.fixedDelta],["ib",a.state.iterativeBackcasting],["demean",a.state.demean]].concat([["transform",a.state.transform]].concat(a.state.transform?[["p_code",a.state.pCode],["d_code",a.state.dCode],["take_log",a.state.takeLog]]:[]))},a.getResultsForFREDData=Object(s.a)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=J([["fred_abbr",a.state.mnemonic],["freq",a.state.frequencyFRED],["obs_start",me.getTruncatedDate(a.state.startDateFRED)],["obs_end",me.getTruncatedDate(a.state.endDateFRED)]].concat(a.bnfParamArr())),n=I.a.baseBackendURL+I.a.bnfFredDataSlug+t,console.log(n),a.setState({loading:!0},Object(s.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(n).then(function(e){if(200!==e.status)throw a.cancelLoading(),new N("bad status");return e}).then(function(e){return e.json()}).then(function(e){console.log("Success:",e);var t=e.cycle.map(function(e){return Number(e)}),n=e.ci.map(function(e){return Number(e)}),r=Number(e.delta);a.setState({x:e.dates,y:e.y,cycle:t,cycleCI:n,deltaCalc:r,cycleCILB:Q(t,n,"lb"),cycleCIUB:Q(t,n,"ub"),loading:!1})}).catch(function(e){console.log(e)});case 1:case"end":return e.stop()}},e)})));case 4:case"end":return e.stop()}},e)})),a.getResultsForUserSpecifiedData=Object(s.a)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.state.y=a.state.unprocessedY.replace(/(,?(\r\n|\n|\r))|(,\s)/gm,",").split(",").filter(function(e){return""!==e}),t=J([["processed_y",a.state.y]].concat(a.bnfParamArr())),n=I.a.baseBackendURL+I.a.bnfUserSpecifiedDataSlug+t,console.log(n),a.setState({loading:!0},Object(s.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(n).then(function(e){if(200!==e.status)throw a.cancelLoading(),new N("bad status");return e}).then(function(e){return e.json()}).then(function(e){console.log("Success:",e);var t=e.cycle.map(function(e){return Number(e)}),n=e.ci.map(function(e){return Number(e)}),r=Number(e.delta);a.setState({x:"n"!==a.state.frequency?me.createDate(a.state.frequency,a.state.startDate).getDateArray(t.length).map(me.getTruncatedDate):Array.from({length:t.length},function(e,t){return t+1}),cycle:t,cycleCI:n,deltaCalc:r,cycleCILB:Q(t,n,"lb"),cycleCIUB:Q(t,n,"ub"),loading:!1})}).catch(function(e){console.log(e)});case 1:case"end":return e.stop()}},e)})));case 5:case"end":return e.stop()}},e)})),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.unprocessedY,n=t.startDate,l=t.endDate,i=t.frequency,o=t.dataInputType,c=t.dispCycleCI,s=this.state,u=s.startDateFRED,d=s.endDateFRED,m=s.minDate,p=s.maxDate,h=s.mnemonic,f=s.frequencyFRED,g=s.availableFrequencies,b={unprocessedY:a,startDate:n,endDate:l,frequency:i,dataInputType:o,dispCycleCI:c},v={startDateFRED:u,endDateFRED:d,minDate:m,maxDate:p,mnemonic:h,frequencyFRED:f,dataInputType:o,availableFrequencies:g,dispCycleCI:c},y=this.state,D=y.step,C=y.fixedDelta,x=y.deltaSelect,F=y.demean,j=y.iterativeBackcasting,w=y.rollingWindow,k=y.transform,S=y.dCode,O=y.pCode,I=y.takeLog,R=y.cycle,M=y.deltaCalc,T=y.errorMessage,N={unprocessedY:a,fixedDelta:C,deltaSelect:x,demean:F,iterativeBackcasting:j,rollingWindow:w,transform:k,dCode:S,pCode:O,takeLog:I,loading:y.loading,serverError:y.serverError,dataInputType:o},A={handleChange:this.handleChange,handleNumberFieldChange:this.handleNumberFieldChange,handleIntegerNumberFieldChange:this.handleIntegerNumberFieldChange,handleCheckboxChange:this.handleCheckboxChange,handleErrorField:this.handleErrorField},q=this.state,P={x:q.x,y:q.y,cycle:R,deltaCalc:M,dispCycleCI:c,cycleCILB:q.cycleCILB,cycleCIUB:q.cycleCIUB,frequency:i,startDate:n};return r.a.createElement(r.a.Fragment,null,function(){switch(D){case 2:return r.a.createElement(te,{nextStep:e.nextStep,prevStep:e.prevStep,setErrorMessage:e.setErrorMessage,deleteErrorMessage:e.deleteErrorMessage,handleChange:e.handleChange,handleCheckboxChange:e.handleCheckboxChange,valuesUserData:b,valuesFREDData:v,errors:T});case 3:return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,{nextStep:e.nextStep,prevStep:e.prevStep,cancelLoad:e.cancelLoading,handlers:A,getResults:e.getResultsForUserSpecifiedData,getFREDResults:e.getResultsForFREDData,values:N,errors:T}));case 4:return r.a.createElement(r.a.Fragment,null,e.state.loading?se():r.a.createElement(ce,{prevStep:e.prevStep,plotPageValues:P}));default:return r.a.createElement(E,{nextStep:e.nextStep,handleChange:e.handleChange})}}())}}]),t}(n.Component);var ve={footer:{fontSize:"small",backgroundColor:"#F7F7F7",borderTop:"1px solid #E7E7E7",textAlign:"center",padding:"10px",marginTop:"10px",position:"fixed",overflowX:"hidden",left:"0",bottom:"0",width:"100%"},feature:{marginTop:"5px",fontSize:"x-small"}},ye=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"appHeader"},"BN Filter Trend-Cycle Decomposition"),r.a.createElement("div",{className:"information welcomeInformation"},r.a.createElement("p",null,"This tool performs trend-cycle decomposition. It is implemented using the Beveridge-Nelson filter method described in ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3434174"},"Kamber, Morley, and Wong"),". Please note that there may be some small bugs as the website is still in development.")),r.a.createElement(be,null)),r.a.createElement("div",{style:ve.footer},r.a.createElement("a",{href:"https://sites.google.com/site/guneskamber",rel:"noopener noreferrer",target:"_blank"},"Gunes Kamber"),"\xa0\xa0\xa0\xa0",r.a.createElement("a",{href:"https://sites.google.com/site/jamescmorley",rel:"noopener noreferrer",target:"_blank"},"James Morley"),"\xa0\xa0\xa0\xa0",r.a.createElement("a",{href:"https://sites.google.com/site/benjaminwongshijie",rel:"noopener noreferrer",target:"_blank"},"Benjamin Wong"),r.a.createElement("br",null),r.a.createElement("div",{style:ve.feature},r.a.createElement("a",{href:"https://github.com/crstnn",rel:"noopener noreferrer",target:"_blank"},"@cristian"))))},Ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,228)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),l(e),i(e)})};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ye,null)),document.getElementById("root")),Ee()},15:function(e){e.exports={b:{optionField:{frequencyManual:{option:[{value:"w",text:"Weekly"},{value:"m",text:"Monthly"},{value:"q",text:"Quarterly"},{value:"a",text:"Annual"},{value:"n",text:"Undated/Unspecified"}],default:"q"},frequencyFRED:{option:[{value:"d",text:"Daily"},{value:"w",text:"Weekly"},{value:"b",text:"Bi-Weekly"},{value:"q",text:"Quarterly"},{value:"m",text:"Monthly"},{value:"sa",text:"Semiannual"},{value:"a",text:"Annual"}],default:""},iterativeDynamicDemeaning:{option:[{value:"sm",text:"Constant (Static Demeaning)"},{value:"dm",text:"Dynamic Demeaning"},{value:"idm",text:"Iterative Dynamic Demeaning"}],default:"sm"},deltaSelect:{option:[{value:0,text:"Fixed Delta"},{value:1,text:"Maximize Amplitude-to-Noise Ratio"},{value:2,text:"Minimize Stochastic Trend Volatility"}],default:0},dCode:{option:[{value:"nd",text:"No Differencing (Levels)"},{value:"d1",text:"1 Period Difference"},{value:"d4",text:"4 Period Difference (for Quarterly Data)"},{value:"d12",text:"12 Period Difference (for Monthly Data)"}],default:"nd"},pCode:{option:[{value:"np",text:"No Change"},{value:"p1",text:"Multiply by 100"},{value:"p4",text:"Multiply by 400 (Annualized Quarterly Rate)"},{value:"p12",text:"Multiply by 1200 (Annualized Monthly Rate)"}],default:"np"}},freeText:{fixedDelta:{default:.1,min:.05,max:1},rollingWindow:{default:40,min:26,max:500}}},a:{baseBackendURL:"https://bn-filtering.herokuapp.com",bnfUserSpecifiedDataSlug:"/bnf/user-specified-time-series",bnfFredDataSlug:"/bnf/fred-time-series",fredDataSlug:"/fred-time-series"}}},69:function(e,t,a){}},[[120,1,2]]]);
//# sourceMappingURL=main.6e426b8f.chunk.js.map