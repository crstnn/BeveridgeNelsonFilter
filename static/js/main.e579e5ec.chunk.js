(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){e.exports=a(139)},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(86),i=a.n(l),o=(a(66),a(53),a(33)),c=a.n(o),s=a(47),u=a(51),d=a(4),m=a(14),p=a(17),h=a(27),f=a(15),g=a(16),b=a(217),v=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).continue=function(e){e.preventDefault(),a.props.nextStep()},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"information"},r.a.createElement("p",null,"You will be guided through the steps to perform trend-cycle decomposition on either:"),r.a.createElement("ol",null,r.a.createElement("li",null,"A time series of your choosing to be pasted into a field, or"),r.a.createElement("li",null,"A time series from the Federal Reserve Economic Database (FRED) using its mnemonic")),r.a.createElement("p",null,"Note that there is additional information provided when hovering over the options in the subsequent pages. The cycle is reported and can be downloaded as a CSV.")),r.a.createElement(b.a,{variant:"contained",style:y.button,onClick:this.continue},"Continue"),r.a.createElement("br",null))}}]),t}(n.Component),y={button:{margin:"30px 0 100px"}},E=v,x=a(194),C=a(213),D=a(222),S=a(223),j=a(210),k=a(218),w=a(214),O=a(208),F=a(227),I=a(26),M=a(212),T=function(e){return e.map(function(e){return r.a.createElement(M.a,{value:e.value},e.text)})},N=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).isDisabled={rollingWindow:function(){return"sm"===a.props.values.demean},fixedDelta:function(){return 0!==a.props.values.deltaSelect}},a.isError=function(e){return void 0!==a.props.values.errorMessage[e]},a.isErrorDisplaying=function(e){return a.isError(e)&&!a.isDisabled[e]()},a.errorsDisplayedCount=function(){return Object.keys(a.props.errors).map(function(e){return a.isErrorDisplaying(e)}).filter(function(e){return e}).length},a.continue=function(e){e.preventDefault();var t=a.props,n=t.getResults,r=t.getFREDResults,l=t.values,i=t.cancelLoad;0===a.errorsDisplayedCount()?"FRED"===l.dataInputType?r():"USER"===l.dataInputType&&n():i(),e.preventDefault(),a.props.nextStep()},a.back=function(e){e.preventDefault(),a.props.prevStep()},a.preAnalysisTransformations=function(){var e=a.props,t=e.values,n=e.handlers,l=n.handleChange,i=n.handleCheckboxChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"information"},r.a.createElement(x.a,{light:!0},r.a.createElement(C.a,{variant:"standard"},r.a.createElement(D.a,{label:r.a.createElement(S.a,{style:{fontSize:"x-large"}},"Transformations"),title:"Transformations are applied in the order below and are done prior to estimation. Check this box to apply them.",control:r.a.createElement(j.a,{onChange:i("transform"),checked:t.transform})})))),r.a.createElement(k.a,{container:!0,direction:"column",justifyContent:"space-evenly",spacing:4,alignItems:"center"},r.a.createElement(k.a,{item:!0,xs:4},r.a.createElement(C.a,{variant:"standard"},r.a.createElement(D.a,{label:"Natural Logarithm",title:"Logarithm to the base of Euler's number",control:r.a.createElement(j.a,{size:"small",onChange:i("takeLog"),checked:t.takeLog,disabled:!t.transform})}))),r.a.createElement(k.a,{item:!0,xs:3},r.a.createElement(C.a,{variant:"standard",sx:{minWidth:350}},r.a.createElement(w.a,null,"Differencing Method"),r.a.createElement(O.a,{title:"Differencing method applied",onChange:l("dCode"),defaultValue:t.dCode,disabled:!t.transform},T(I.b.optionField.dCode.option)))),r.a.createElement(k.a,{item:!0,xs:4},r.a.createElement(C.a,{variant:"standard",sx:{minWidth:350}},r.a.createElement(w.a,null,"Computed Percentages"),r.a.createElement(O.a,{title:"Multiple applied",onChange:l("pCode"),defaultValue:t.pCode,disabled:!t.transform},T(I.b.optionField.pCode.option))))))},a.bnFilterParameters=function(){var e=a.props,t=e.values,n=e.handlers,l=n.handleChange,i=n.handleNumberFieldChange,o=n.handleIntegerNumberFieldChange,c=t.errorMessage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"information"},r.a.createElement(x.a,{style:{fontSize:"x-large"}},"Filter Parameters")),r.a.createElement("div",{style:{width:"450px",alignItems:"center",display:"inline-block",paddingBottom:"50px"}},r.a.createElement(k.a,{container:!0,alignItems:"flex-start",justifyContent:"space-evenly",spacing:2},r.a.createElement(k.a,{item:!0,xs:8},r.a.createElement(C.a,{variant:"standard",sx:{minWidth:300}},r.a.createElement(w.a,null,"Signal-to-Noise Ratio (Delta)"),r.a.createElement(O.a,{label:"Signal-to-Noise Ratio (Delta)",title:"Signal-to-Noise Ratio according to benchmark KMW approach",onChange:l("deltaSelect"),defaultValue:t.deltaSelect},T(I.b.optionField.deltaSelect.option)))),r.a.createElement(k.a,{item:!0,xs:4},r.a.createElement(C.a,{variant:"standard",sx:{minWidth:170}},r.a.createElement(F.a,{label:"Fixed Delta",title:"Only necessary when Signal-to-noise ratio is set to 'Fixed Delta'",onChange:i("fixedDelta"),defaultValue:t.fixedDelta,disabled:a.isDisabled.fixedDelta(),error:a.isErrorDisplaying("fixedDelta"),helperText:a.isErrorDisplaying("fixedDelta")?c.fixedDelta:"\u200b"}))),r.a.createElement(k.a,{item:!0,xs:8},r.a.createElement(C.a,{variant:"standard",sx:{minWidth:290}},r.a.createElement(w.a,null,"Demeaning"),r.a.createElement(O.a,{label:"Demeaning method",onChange:l("demean"),defaultValue:t.demean},T(I.b.optionField.iterativeDynamicDemeaning.option)))),r.a.createElement(k.a,{item:!0,xs:4},r.a.createElement(C.a,{variant:"standard",sx:{minWidth:170}},r.a.createElement(F.a,{label:"Rolling Window",title:"Only necessary when the demeaning method is dynamic. Must be an integer.",onChange:o("rollingWindow"),defaultValue:t.rollingWindow,disabled:a.isDisabled.rollingWindow(),error:a.isErrorDisplaying("rollingWindow"),helperText:a.isErrorDisplaying("rollingWindow")?c.rollingWindow:"\u200b"}))))))},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.preAnalysisTransformations(),this.bnFilterParameters(),r.a.createElement("br",null),r.a.createElement(b.a,{variant:"outlined",style:B.button,onClick:this.back},"Back"),r.a.createElement(b.a,{variant:"contained",style:B.button,onClick:this.continue},"Get Trend Decomposition"),r.a.createElement("br",null))}}]),t}(n.Component),B={button:{margin:"0 30px 100px"}},R=N,A=a(215),q=a(220),L=a(230),P=a(228),W=a(207),_=a(203),U=a(205),V=a(206);var Y=function(e){var t=e.date;return r.a.createElement("div",null,r.a.createElement(_.b,{dateAdapter:V.a},r.a.createElement(U.a,{label:e.label,inputFormat:"dd/MM/yyyy",value:t,minDate:e.minDate,maxDate:e.maxDate,InputProps:{style:{width:220}},onChange:function(t){e.updateDate({target:{value:t}})},disabled:e.isDisabled,renderInput:function(e){return r.a.createElement(F.a,Object.assign({},e,{InputLabelProps:{shrink:!0},inputProps:Object(u.a)({},e.inputProps,{placeholder:"DD/MM/YYYY"})}))}})))},z=function(e,t,a){return e.map(function(e,n){return"lb"===a?e-t[n]:e+t[n]})},H=function(e,t){return e+t[0].toString()+"="+t[1].toString()+"&"},Q=function(e){return e.reduce(H,"?")},G=a(211),J=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{margin:"2px 20%"}},r.a.createElement(G.a,{variant:"filled",severity:"error",onClose:this.props.close},this.props.tagName))}}]),t}(n.Component),K=a(93),Z=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).state={mnemonic:a.props.values.mnemonic,isBadMnemonic:null,loading:!1,frequency:"",minDate:null,maxDate:null,startDate:""===a.props.values.mnemonic?null:a.props.values.startDate,endDate:a.props.values.endDate,availableFrequencies:[]},a.continue=function(e){a.props.handleChange("mnemonic")({target:{value:a.state.mnemonic}}),a.props.handleChange("frequency")({target:{value:a.state.frequency}}),a.props.handleChange("startDate")({target:{value:a.state.startDate}}),a.props.handleChange("endDate")({target:{value:a.state.endDate}}),a.props.nextStep(e)},a.createFilteredFrequencies=function(){var e=I.b.optionField.frequencyFRED.option.filter(function(e){return a.state.availableFrequencies.includes(e.value)});return T(e)},a.checkAvailability=function(){a.props.values;var e=Q([["fred_abbr",a.state.mnemonic]]),t=I.a.baseBackendURL+I.a.fredDataSlug+e;a.setState({loading:!0},Object(s.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(t).then(function(e){if(200!==e.status)throw a.setState({isBadMnemonic:!0,loading:!1}),new J("bad status");return e}).then(function(e){return e.json()}).then(function(e){console.log("Success:",e);var t=new Date(e.start_date),n=new Date(e.end_date);a.setState({minDate:t,maxDate:n,startDate:t,endDate:n,frequency:e.available_frequencies[0],availableFrequencies:e.available_frequencies,loading:!1,isBadMnemonic:!1})}).catch(function(e){console.log(e)});case 1:case"end":return e.stop()}},e)})))},a.mnemonicInput=function(){return r.a.createElement(k.a,{container:!0,direction:"column",sx:{minHeight:100},justifyContent:"space-evenly",alignItems:"center"},r.a.createElement(k.a,{item:!0},r.a.createElement(L.a,{row:!0},r.a.createElement($,{variant:"outlined",label:"FRED mnemonic",color:a.state.isBadMnemonic?"error":"success",placeholder:"e.g. GDPC1",sx:{width:250},onChange:function(e){return a.setState({mnemonic:e.target.value})},defaultValue:a.state.mnemonic,InputProps:{endAdornment:a.state.loading?r.a.createElement(K.b,{height:30,width:30,color:"grey"}):null}}),r.a.createElement(ee,{onClick:a.checkAvailability,variant:"outlined"},"Check")),r.a.createElement(P.a,null,null===a.state.isBadMnemonic?"\u200b":a.state.isBadMnemonic?a.state.isBadMnemonic?"The mnemonic is not available":void 0:"The mnemonic is available")))},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.values,n=t.handleCheckboxChange;return r.a.createElement("div",null,r.a.createElement("div",{className:"information"},r.a.createElement("p",null,"Choose a ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://fred.stlouisfed.org/tags/series"},"FRED mnemonic")," and check its availability before continuing.")),r.a.createElement("div",{style:{width:"450px",alignItems:"center",display:"inline-block"}},this.mnemonicInput(),r.a.createElement(x.a,{light:!0,title:"This option does not make alterations to the data but changes the display of the graph output",style:{fontSize:"large"}},"Options"),r.a.createElement(k.a,{container:!0,direction:"column",sx:{minHeight:500},justifyContent:"space-evenly",alignItems:"center"},r.a.createElement(k.a,{item:!0,xs:2},r.a.createElement(Y,{label:"Start Date",date:this.state.startDate,minDate:this.state.minDate,maxDate:this.state.maxDate,updateDate:function(t){return e.setState({startDate:t.target.value})}})),r.a.createElement(k.a,{item:!0,xs:2},r.a.createElement(Y,{label:"End Date",date:this.state.endDate,minDate:this.state.minDate,maxDate:this.state.maxDate,updateDate:function(t){return e.setState({startDate:t.target.value})}})),r.a.createElement(k.a,{item:!0,xs:2},r.a.createElement(C.a,{variant:"standard",sx:{minWidth:220}},r.a.createElement(w.a,null,"Frequency"),r.a.createElement(O.a,{title:"Time-series frequency",onChange:function(t){return e.setState({frequency:t.target.value})},defaultValue:this.state.frequency},this.createFilteredFrequencies()))),r.a.createElement(k.a,{item:!0,xs:2},r.a.createElement(C.a,{sx:{marginBottom:3,marginTop:2},variant:"standard"},r.a.createElement(D.a,{label:"95% Confidence Intervals",title:"Choose to display 95% confidence intervals in graph output",control:r.a.createElement(j.a,{size:"small",onChange:n("dispCycleCI"),checked:a.dispCycleCI})}))),r.a.createElement(k.a,{item:!0,xs:2},r.a.createElement(b.a,{variant:"outlined",style:X.button,onClick:this.props.prevStep},"Back"),r.a.createElement(b.a,{variant:"contained",style:X.button,onClick:this.continue},"Continue")))))}}]),t}(n.Component),X={button:{margin:"0 30px 100px"},headingFormControlLabel:{fontSize:"large"}},$=Object(W.a)({root:{"& fieldset":{borderTopRightRadius:0,borderBottomRightRadius:0}}})(F.a),ee=Object(W.a)({root:{borderTopLeftRadius:0,borderBottomLeftRadius:0,backgroundColor:"#ede8e8",borderColor:"#454545",color:"black"}})(b.a),te=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.values,n=t.handleChange,l=t.handleCheckboxChange;return r.a.createElement("div",null,r.a.createElement("div",{className:"information"},r.a.createElement("p",null,"Enter or paste in your chosen time series below.",r.a.createElement("br",null),"Each line must contain a numerical value. Each observation must start on the next line. Pasting a time series from a CSV will achieve the appropriate formatting.")),r.a.createElement(C.a,{variant:"standard",sx:{m:1,minWidth:300,paddingRight:2}},r.a.createElement(F.a,{multiline:!0,rows:20,label:"Time Series (y)",title:"Paste your chosen time series here",onChange:n("unprocessedY"),InputLabelProps:{shrink:!0},placeholder:"e.g."+new Array(100).join(" ")+"101.2"+new Array(100).join(" ")+"104.8"+new Array(100).join(" ")+"102.4"+new Array(100).join(" ")+"...",defaultValue:a.unprocessedY})),r.a.createElement("div",{style:{width:"450px",alignItems:"center",display:"inline-block"}},r.a.createElement(x.a,{light:!0,title:"This option does not make alterations to the data but changes the display of the graph output",style:{fontSize:"large"}},"Display Options"),r.a.createElement(k.a,{container:!0,direction:"column",sx:{minHeight:250,paddingTop:4},justifyContent:"space-evenly",alignItems:"center"},r.a.createElement(k.a,{item:!0,xs:4},r.a.createElement(Y,{label:"Start Date",date:a.startDate,updateDate:function(t){return e.props.handleChange("startDate")(t)},isDisabled:"n"===a.frequency})),r.a.createElement(k.a,{item:!0,xs:4},r.a.createElement(C.a,{variant:"standard",sx:{minWidth:220}},r.a.createElement(w.a,null,"Frequency"),r.a.createElement(O.a,{title:"Time-series frequency",onChange:n("frequency"),defaultValue:a.frequency},T(I.b.optionField.frequencyManual.option)))),r.a.createElement(k.a,{item:!0,xs:4},r.a.createElement(C.a,{sx:{marginBottom:3,marginTop:2},variant:"standard"},r.a.createElement(D.a,{label:"95% Confidence Intervals",title:"Choose to display 95% confidence intervals in graph output",control:r.a.createElement(j.a,{size:"small",onChange:l("dispCycleCI"),checked:a.dispCycleCI})})))),r.a.createElement(k.a,{container:!0,direction:"column",sx:{minHeight:340},justifyContent:"space-evenly",alignItems:"center"},r.a.createElement(k.a,{item:!0,xs:3},r.a.createElement(b.a,{variant:"outlined",style:ae.button,onClick:this.props.prevStep},"Back"),r.a.createElement(b.a,{variant:"contained",style:ae.button,onClick:this.props.nextStep},"Continue")))))}}]),t}(n.Component),ae={button:{margin:"0 30px 100px"},headingFormControlLabel:{fontSize:"large"}},ne=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).continue=function(e){e.preventDefault(),a.props.nextStep()},a.back=function(e){e.preventDefault(),a.props.prevStep()},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.values,n=t.handleChange,l=t.handleCheckboxChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"information"},r.a.createElement(x.a,{style:{fontSize:"x-large"}},r.a.createElement(A.a,{color:"primary",value:a.dataInputType,exclusive:!0,onChange:n("dataInputType")},r.a.createElement(q.a,{value:"FRED"},"FRED Series"),r.a.createElement(q.a,{value:"USER"},"User Series")))),function(){switch(a.dataInputType){case"USER":return r.a.createElement(te,{nextStep:e.continue,prevStep:e.back,handleChange:n,handleCheckboxChange:l,values:a});case"FRED":return r.a.createElement(Z,{nextStep:e.continue,prevStep:e.back,handleChange:n,handleCheckboxChange:l,values:a})}}())}}]),t}(n.Component),re=a(107),le=a.n(re),ie=a(108),oe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).fileName="BNF_cycle.csv",a.back=function(e){e.preventDefault(),a.props.prevStep()},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"getCSVData",value:function(){var e=this.props.plotPageValues;return function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];for(var n=(t=t.filter(function(e){return void 0!==e})).length,r=t[0].length,l=[],i=0;i<r;i++){for(var o=[],c=0;c<n;c++)o.push(t[c][i]);l.push(o)}return l}(["date"].concat(e.x),["original_y"].concat(e.y),["cycle"].concat(e.cycle),e.dispCycleCI?["conf_int_lower_bound"].concat(e.cycleCILB):void 0,e.dispCycleCI?["conf_int_upper_bound"].concat(e.cycleCIUB):void 0)}},{key:"getPlot",value:function(){var e=this.props.plotPageValues;return console.log(e.x),console.log(e.y),r.a.createElement(le.a,{layout:{autosize:!0,xaxis:{automargin:!0},yaxis:{automargin:!0,tickangle:"auto"}},data:[{x:e.x,y:e.cycle,type:"scatter",mode:"lines+markers",marker:{color:"blue"},name:"cycle",showlegend:!1},e.dispCycleCI?{x:e.x,y:e.cycleCILB,fill:"tonexty",fillcolor:"rgba(0, 0, 0, 0)",line:{color:"transparent"},showlegend:!1,type:"scatter",hoverinfo:"skip"}:{},e.dispCycleCI?{x:e.x,y:e.cycleCIUB,fill:"tonexty",fillcolor:"rgba(0,100,80,0.2)",line:{color:"transparent"},showlegend:!1,type:"scatter",hoverinfo:"skip"}:{}]})}},{key:"render",value:function(){var e=this.props.plotPageValues;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",null,this.getPlot(),r.a.createElement("p",null," Delta: ",e.deltaCalc," ")),r.a.createElement(ie.CSVLink,{style:{textDecoration:"underline"},filename:this.fileName,data:this.getCSVData()},"Download as CSV")),r.a.createElement(b.a,{variant:"outlined",style:ce.button,onClick:this.back},"Back"))}}]),t}(n.Component),ce={button:{margin:"20px 30px 100px"}},se=oe;var ue=function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",paddingTop:"30vh"}},r.a.createElement(K.a,{height:75,width:75,color:"grey"}))},de=a(31),me=a(109),pe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).nextTimePeriod=function(){throw new Error("Child class must implement this method")},a.getDateArray=function(e){var t=Object(de.a)(Object(de.a)(a)),n=Object(de.a)(Object(de.a)(a));return Array.from({length:e}).map(function(){return n=t,t=t.nextTimePeriod(),n})},a}return Object(g.a)(t,e),t}(Object(me.a)(Date));pe.createDate=function(e,t){switch(e){case"y":return new be(t);case"q":return new ge(t);case"m":return new fe(t);case"w":return new he(t);default:throw new Error("Non-existent key")}},pe.packWithZero=function(e){return 1===e.toString().length?"0"+e:e},pe.getTruncatedDate=function(e){return"".concat(e.getFullYear(),"-").concat(pe.packWithZero(e.getMonth()+1),"-").concat(pe.packWithZero(e.getDate()))};var he=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).nextTimePeriod=function(){var e=new t(Object(de.a)(Object(de.a)(a)));return new t(e.setDate(a.getDate()+7))},a}return Object(g.a)(t,e),t}(pe),fe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).nextTimePeriod=function(){var e=new t(Object(de.a)(Object(de.a)(a)));return new t(e.setMonth(a.getMonth()+1))},a}return Object(g.a)(t,e),t}(pe),ge=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).nextTimePeriod=function(){var e=new t(Object(de.a)(Object(de.a)(a)));return new t(e.setMonth(a.getMonth()+3))},a}return Object(g.a)(t,e),t}(pe),be=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).nextTimePeriod=function(){var e=new t(Object(de.a)(Object(de.a)(a)));return new t(e.setFullYear(a.getFullYear()+1))},a}return Object(g.a)(t,e),t}(pe),ve=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={step:1,dataInputType:"FRED",mnemonic:"",unprocessedY:"",x:[],y:[],fixedDelta:I.b.freeText.fixedDelta.default,deltaSelect:2,demean:I.b.optionField.iterativeDynamicDemeaning.default,iterativeBackcasting:!0,rollingWindow:I.b.freeText.rollingWindow.default,frequency:I.b.optionField.frequencyManual.default,startDate:null,endDate:null,transform:!1,dCode:I.b.optionField.dCode.default,pCode:I.b.optionField.pCode.default,takeLog:!1,cycle:[],dispCycleCI:!1,cycleCI:[],deltaCalc:void 0,cycleCILB:[],cycleCIUB:[],loading:!0,errorMessage:{}},a.nextStep=function(){var e=a.state.step;a.setState({step:e+1})},a.prevStep=function(){var e=a.state.step;a.setState({step:e-1})},a.cancelLoading=function(){a.prevStep(),a.setState({loading:null})},a.handleChange=function(e){return function(t){a.setState(Object(d.a)({},e,t.target.value))}},a.handleCheckboxChange=function(e){return function(t){a.setState(Object(d.a)({},e,t.target.checked))}},a.setErrorMessage=function(e,t){a.setState({errorMessage:Object(u.a)({},a.state.errorMessage,Object(d.a)({},e,t))})},a.deleteErrorMessage=function(e){var t=Object(u.a)({},a.state);delete t.errorMessage[e],a.setState(t)},a.isEmptyString=function(e,t){return""===e&&(a.setErrorMessage(t,"must not be empty"),!0)},a.isNotANum=function(e,t){return!!isNaN(e)&&(a.setErrorMessage(t,"must be numeric"),!0)},a.isNotAnInt=function(e,t){return e%1!==0&&(a.setErrorMessage(t,"must be an integer"),!0)},a.isExceedsMinMax=function(e,t){return e<I.b.freeText[t].min?(a.setErrorMessage(t,"must be \u2265 ".concat(I.b.freeText[t].min)),!0):e>I.b.freeText[t].max&&(a.setErrorMessage(t,"must be \u2264 ".concat(I.b.freeText[t].max)),!0)},a.handleErrorField=function(e){return function(t,n){e&&a.deleteErrorMessage(t),a.setState(Object(d.a)({},t,n))}},a.validateField=function(e,t,n){var r=n.target.value,l=e.reduce(function(e,a){return!!e||(a(r,t)||e)},!1);a.handleErrorField(!l)(t,r)},a.handleNumberFieldChange=function(e){return function(t){a.validateField([a.isEmptyString,a.isNotANum,a.isExceedsMinMax],e,t)}},a.handleIntegerNumberFieldChange=function(e){return function(t){a.validateField([a.isEmptyString,a.isNotAnInt,a.isNotANum,a.isExceedsMinMax],e,t)}},a.bnfParamArr=function(){return[["window",a.state.rollingWindow],["delta_select",a.state.deltaSelect],["fixed_delta",a.state.fixedDelta],["ib",a.state.iterativeBackcasting],["demean",a.state.demean]].concat([["transform",a.state.transform]].concat(a.state.transform?[["p_code",a.state.pCode],["d_code",a.state.dCode],["take_log",a.state.takeLog]]:[]))},a.getResultsForFREDData=Object(s.a)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=Q([["fred_abbr",a.state.mnemonic],["freq",a.state.frequency],["obs_start",pe.getTruncatedDate(a.state.startDate)],["obs_end",pe.getTruncatedDate(a.state.endDate)]].concat(a.bnfParamArr())),n=I.a.baseBackendURL+I.a.bnfFredDataSlug+t,console.log(n),a.setState({loading:!0},Object(s.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(n).then(function(e){if(200!==e.status)throw a.cancelLoading(),new J("bad status");return e}).then(function(e){return e.json()}).then(function(e){console.log("Success:",e);var t=e.cycle.map(function(e){return Number(e)}),n=e.ci.map(function(e){return Number(e)}),r=Number(e.delta);a.setState({x:e.dates,y:e.y,cycle:t,cycleCI:n,deltaCalc:r,cycleCILB:z(t,n,"lb"),cycleCIUB:z(t,n,"ub"),loading:!1})}).catch(function(e){console.log(e)});case 1:case"end":return e.stop()}},e)})));case 4:case"end":return e.stop()}},e)})),a.getResultsForUserSpecifiedData=Object(s.a)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.state.y=a.state.unprocessedY.replace(/(,?(\r\n|\n|\r))|(,\s)/gm,",").split(",").filter(function(e){return""!==e}),t=Q([["processed_y",a.state.y]].concat(a.bnfParamArr())),n=I.a.baseBackendURL+I.a.bnfUserSpecifiedDataSlug+t,console.log(n),a.setState({loading:!0},Object(s.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(n).then(function(e){if(200!==e.status)throw a.cancelLoading(),new J("bad status");return e}).then(function(e){return e.json()}).then(function(e){console.log("Success:",e);var t=e.cycle.map(function(e){return Number(e)}),n=e.ci.map(function(e){return Number(e)}),r=Number(e.delta);a.setState({x:"n"!==a.state.frequency?pe.createDate(a.state.frequency,a.state.startDate).getDateArray(t.length).map(pe.getTruncatedDate):Array.from({length:t.length},function(e,t){return t+1}),cycle:t,cycleCI:n,deltaCalc:r,cycleCILB:z(t,n,"lb"),cycleCIUB:z(t,n,"ub"),loading:!1})}).catch(function(e){console.log(e)});case 1:case"end":return e.stop()}},e)})));case 5:case"end":return e.stop()}},e)})),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.unprocessedY,n=t.startDate,l=t.endDate,i=t.mnemonic,o=t.frequency,c=t.dataInputType,s={unprocessedY:a,startDate:n,endDate:l,mnemonic:i,frequency:o,dataInputType:c},u=this.state,d=u.step,m=u.fixedDelta,p=u.deltaSelect,h=u.demean,f=u.iterativeBackcasting,g=u.rollingWindow,b=u.transform,v=u.dCode,y=u.pCode,x=u.takeLog,C=u.cycle,D=u.deltaCalc,S=u.errorMessage,j=u.loading,k=u.serverError,w={unprocessedY:a,fixedDelta:m,deltaSelect:p,demean:h,iterativeBackcasting:f,rollingWindow:g,transform:b,dCode:v,pCode:y,takeLog:x,errorMessage:S,loading:j,serverError:k,dataInputType:c},O={handleChange:this.handleChange,handleNumberFieldChange:this.handleNumberFieldChange,handleIntegerNumberFieldChange:this.handleIntegerNumberFieldChange,handleCheckboxChange:this.handleCheckboxChange,handleErrorField:this.handleErrorField},F=this.state,I={x:F.x,y:F.y,cycle:C,deltaCalc:D,dispCycleCI:F.dispCycleCI,cycleCILB:F.cycleCILB,cycleCIUB:F.cycleCIUB,frequency:o,startDate:n};return r.a.createElement(r.a.Fragment,null,function(){switch(d){case 2:return r.a.createElement(ne,{nextStep:e.nextStep,prevStep:e.prevStep,handleChange:e.handleChange,handleCheckboxChange:e.handleCheckboxChange,values:s});case 3:return r.a.createElement(r.a.Fragment,null,null===e.state.loading?r.a.createElement(J,{tagName:"During the running of the BN filter a problem occurred. Please check that the inputs are appropriate.",close:function(){e.setState({loading:!1})}}):null,r.a.createElement(R,{nextStep:e.nextStep,prevStep:e.prevStep,cancelLoad:e.cancelLoading,handlers:O,getResults:e.getResultsForUserSpecifiedData,getFREDResults:e.getResultsForFREDData,values:w,errors:S}));case 4:return r.a.createElement(r.a.Fragment,null,!0===e.state.loading?ue():!1===e.state.loading?r.a.createElement(se,{prevStep:e.prevStep,plotPageValues:I}):void 0);default:return r.a.createElement(E,{nextStep:e.nextStep,handleChange:e.handleChange})}}())}}]),t}(n.Component);var ye={footer:{fontSize:"small",backgroundColor:"#F7F7F7",borderTop:"1px solid #E7E7E7",textAlign:"center",padding:"10px",marginTop:"10px",position:"fixed",overflowX:"hidden",left:"0",bottom:"0",width:"100%"},feature:{marginTop:"5px",fontSize:"x-small"}},Ee=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"appHeader"},"BN Filter Trend-Cycle Decomposition"),r.a.createElement("div",{className:"information welcomeInformation"},r.a.createElement("p",null,"This tool performs trend-cycle decomposition. It is implemented using the Beveridge-Nelson filter method described in ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3434174"},"Kamber, Morley, and Wong"),". Please note that this website is still in development so some features are yet to be implemented/completed.")),r.a.createElement(ve,null)),r.a.createElement("div",{style:ye.footer},r.a.createElement("a",{href:"https://sites.google.com/site/guneskamber",rel:"noopener noreferrer",target:"_blank"},"Gunes Kamber"),"\xa0\xa0\xa0\xa0",r.a.createElement("a",{href:"https://sites.google.com/site/jamescmorley",rel:"noopener noreferrer",target:"_blank"},"James Morley"),"\xa0\xa0\xa0\xa0",r.a.createElement("a",{href:"https://sites.google.com/site/benjaminwongshijie",rel:"noopener noreferrer",target:"_blank"},"Benjamin Wong"),r.a.createElement("br",null),r.a.createElement("div",{style:ye.feature},r.a.createElement("a",{href:"https://github.com/crstnn",rel:"noopener noreferrer",target:"_blank"},"@cristian"))))},xe=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,204)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),l(e),i(e)})};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee,null)),document.getElementById("root")),xe()},26:function(e){e.exports={b:{optionField:{frequencyManual:{option:[{value:"y",text:"Yearly"},{value:"q",text:"Quarterly"},{value:"m",text:"Monthly"},{value:"w",text:"Weekly"},{value:"n",text:"Undated/Unspecified"}],default:"q"},frequencyFRED:{option:[{value:"a",text:"Yearly"},{value:"sa",text:"Semi-Yearly"},{value:"q",text:"Quarterly"},{value:"m",text:"Monthly"},{value:"b",text:"Bi-Weekly"},{value:"w",text:"Weekly"},{value:"d",text:"Daily"}],default:null},iterativeDynamicDemeaning:{option:[{value:"sm",text:"Constant (Static Demeaning)"},{value:"dm",text:"Dynamic Demeaning"},{value:"idm",text:"Iterative Dynamic Demeaning"}],default:"sm"},deltaSelect:{option:[{value:0,text:"Fixed Delta"},{value:1,text:"Maximize Amplitude-to-Noise Ratio"},{value:2,text:"Minimize Stochastic Trend Volatility"}],default:0},dCode:{option:[{value:"nd",text:"No Differencing (Levels)"},{value:"d1",text:"1 Period Difference"},{value:"d4",text:"4 Period Difference (for Quarterly Data)"},{value:"d12",text:"12 Period Difference (for Monthly Data)"}],default:"nd"},pCode:{option:[{value:"np",text:"No Change"},{value:"p1",text:"Multiply by 100"},{value:"p4",text:"Multiply by 400 (Annualized Quarterly Rate)"},{value:"p12",text:"Multiply by 1200 (Annualized Monthly Rate)"}],default:"np"}},freeText:{fixedDelta:{default:.1,min:.05,max:1},rollingWindow:{default:40,min:26,max:500}}},a:{baseBackendURL:"https://bn-filtering.herokuapp.com",bnfUserSpecifiedDataSlug:"/bnf/user-specified-time-series",bnfFredDataSlug:"/bnf/fred-time-series",fredDataSlug:"/fred-time-series"}}},53:function(e,t,a){},66:function(e,t,a){}},[[126,3,2]]]);
//# sourceMappingURL=main.e579e5ec.chunk.js.map